var Fo=Object.defineProperty;var Bo=(e,t,n)=>t in e?Fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var el=(e,t,n)=>Bo(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function re(){}const bl=e=>e;function No(e,t){for(const n in t)e[n]=t[n];return e}function Qr(e){return e()}function Fl(){return Object.create(null)}function Re(e){e.forEach(Qr)}function qt(e){return typeof e=="function"}function nt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let En;function zn(e,t){return e===t?!0:(En||(En=document.createElement("a")),En.href=t,e===En.href)}function Lo(e){return Object.keys(e).length===0}function Kr(e,...t){if(e==null){for(const l of t)l(void 0);return re}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Se(e){let t;return Kr(e,n=>t=n)(),t}function ae(e,t,n){e.$$.on_destroy.push(Kr(t,n))}function Vt(e,t,n,l){if(e){const s=Zr(e,t,n,l);return e[0](s)}}function Zr(e,t,n,l){return e[1]&&l?No(n.ctx.slice(),e[1](l(t))):n.ctx}function Xt(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const o=[],r=Math.max(t.dirty.length,s.length);for(let a=0;a<r;a+=1)o[a]=t.dirty[a]|s[a];return o}return t.dirty|s}return t.dirty}function Qt(e,t,n,l,s,o){if(s){const r=Zr(t,n,l,o);e.p(r,s)}}function Kt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function Bl(e){return e??""}function te(e,t,n){return e.set(n),t}function Do(e){return e&&qt(e.destroy)?e.destroy:re}const eo=typeof window<"u";let to=eo?()=>window.performance.now():()=>Date.now(),vl=eo?e=>requestAnimationFrame(e):re;const Zt=new Set;function no(e){Zt.forEach(t=>{t.c(e)||(Zt.delete(t),t.f())}),Zt.size!==0&&vl(no)}function lo(e){let t;return Zt.size===0&&vl(no),{promise:new Promise(n=>{Zt.add(t={c:e,f:n})}),abort(){Zt.delete(t)}}}const Ho=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function i(e,t){e.appendChild(t)}function so(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function jo(e){const t=p("style");return t.textContent="/* empty */",Ro(so(e),t),t.sheet}function Ro(e,t){return i(e.head||e,t),t.sheet}function T(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function Ee(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function x(e){return document.createTextNode(e)}function v(){return x(" ")}function bt(){return x("")}function X(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ro(e){return e===""?null:+e}function Yo(e){return Array.from(e.childNodes)}function F(e,t){t=""+t,e.data!==t&&(e.data=t)}function ln(e,t){e.value=t??""}function Ke(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function Wo(e,t,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:l})}const qn=new Map;let An=0;function zo(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Uo(e,t){const n={stylesheet:jo(t),rules:{}};return qn.set(e,n),n}function oo(e,t,n,l,s,o,r,a=0){const c=16.666/l;let u=`{
`;for(let b=0;b<=1;b+=c){const w=t+(n-t)*o(b);u+=b*100+`%{${r(w,1-w)}}
`}const _=u+`100% {${r(n,1-n)}}
}`,d=`__svelte_${zo(_)}_${a}`,h=so(e),{stylesheet:m,rules:g}=qn.get(h)||Uo(h,e);g[d]||(g[d]=!0,m.insertRule(`@keyframes ${d} ${_}`,m.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${d} ${l}ms linear ${s}ms 1 both`,An+=1,d}function pl(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),s=n.length-l.length;s&&(e.style.animation=l.join(", "),An-=s,An||Go())}function Go(){vl(()=>{An||(qn.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)}),qn.clear())})}let bn;function _n(e){bn=e}function io(){if(!bn)throw new Error("Function called outside component initialization");return bn}function yl(e){io().$$.on_mount.push(e)}function Jo(e){io().$$.on_destroy.push(e)}const Jt=[],ml=[];let en=[];const Nl=[],Vo=Promise.resolve();let hl=!1;function Xo(){hl||(hl=!0,Vo.then(ao))}function xt(e){en.push(e)}const tl=new Set;let Yt=0;function ao(){if(Yt!==0)return;const e=bn;do{try{for(;Yt<Jt.length;){const t=Jt[Yt];Yt++,_n(t),Qo(t.$$)}}catch(t){throw Jt.length=0,Yt=0,t}for(_n(null),Jt.length=0,Yt=0;ml.length;)ml.pop()();for(let t=0;t<en.length;t+=1){const n=en[t];tl.has(n)||(tl.add(n),n())}en.length=0}while(Jt.length);for(;Nl.length;)Nl.pop()();hl=!1,tl.clear(),_n(e)}function Qo(e){if(e.fragment!==null){e.update(),Re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xt)}}function Ko(e){const t=[],n=[];en.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),en=t}let fn;function co(){return fn||(fn=Promise.resolve(),fn.then(()=>{fn=null})),fn}function On(e,t,n){e.dispatchEvent(Wo(`${t?"intro":"outro"}${n}`))}const In=new Set;let yt;function ut(){yt={r:0,c:[],p:yt}}function ft(){yt.r||Re(yt.c),yt=yt.p}function J(e,t){e&&e.i&&(In.delete(e),e.i(t))}function ne(e,t,n,l){if(e&&e.o){if(In.has(e))return;In.add(e),yt.c.push(()=>{In.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const uo={duration:0};function xl(e,t,n){const l={direction:"in"};let s=t(e,n,l),o=!1,r,a,c=0;function u(){r&&pl(e,r)}function _(){const{delay:h=0,duration:m=300,easing:g=bl,tick:y=re,css:b}=s||uo;b&&(r=oo(e,0,1,m,h,g,b,c++)),y(0,1);const w=to()+h,k=w+m;a&&a.abort(),o=!0,xt(()=>On(e,!0,"start")),a=lo(M=>{if(o){if(M>=k)return y(1,0),On(e,!0,"end"),u(),o=!1;if(M>=w){const I=g((M-w)/m);y(I,1-I)}}return o})}let d=!1;return{start(){d||(d=!0,pl(e),qt(s)?(s=s(l),co().then(_)):_())},invalidate(){d=!1},end(){o&&(u(),o=!1)}}}function fo(e,t,n){const l={direction:"out"};let s=t(e,n,l),o=!0,r;const a=yt;a.r+=1;let c;function u(){const{delay:_=0,duration:d=300,easing:h=bl,tick:m=re,css:g}=s||uo;g&&(r=oo(e,1,0,d,_,h,g));const y=to()+_,b=y+d;xt(()=>On(e,!1,"start")),"inert"in e&&(c=e.inert,e.inert=!0),lo(w=>{if(o){if(w>=b)return m(0,1),On(e,!1,"end"),--a.r||Re(a.c),!1;if(w>=y){const k=h((w-y)/d);m(1-k,k)}}return o})}return qt(s)?co().then(()=>{s=s(l),u()}):u(),{end(_){_&&"inert"in e&&(e.inert=c),_&&s.tick&&s.tick(1,0),o&&(r&&pl(e,r),o=!1)}}}function le(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Zo(e,t){ne(e,1,1,()=>{t.delete(e.key)})}function ei(e,t,n,l,s,o,r,a,c,u,_,d){let h=e.length,m=o.length,g=h;const y={};for(;g--;)y[e[g].key]=g;const b=[],w=new Map,k=new Map,M=[];for(g=m;g--;){const C=d(s,o,g),A=n(C);let E=r.get(A);E?M.push(()=>E.p(C,t)):(E=u(A,C),E.c()),w.set(A,b[g]=E),A in y&&k.set(A,Math.abs(g-y[A]))}const I=new Set,N=new Set;function S(C){J(C,1),C.m(a,_),r.set(C.key,C),_=C.first,m--}for(;h&&m;){const C=b[m-1],A=e[h-1],E=C.key,$=A.key;C===A?(_=C.first,h--,m--):w.has($)?!r.has(E)||I.has(E)?S(C):N.has($)?h--:k.get(E)>k.get($)?(N.add(E),S(C)):(I.add($),h--):(c(A,r),h--)}for(;h--;){const C=e[h];w.has(C.key)||c(C,r)}for(;m;)S(b[m-1]);return Re(M),b}function He(e){e&&e.c()}function Be(e,t,n){const{fragment:l,after_update:s}=e.$$;l&&l.m(t,n),xt(()=>{const o=e.$$.on_mount.map(Qr).filter(qt);e.$$.on_destroy?e.$$.on_destroy.push(...o):Re(o),e.$$.on_mount=[]}),s.forEach(xt)}function Ne(e,t){const n=e.$$;n.fragment!==null&&(Ko(n.after_update),Re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ti(e,t){e.$$.dirty[0]===-1&&(Jt.push(e),Xo(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function rt(e,t,n,l,s,o,r=null,a=[-1]){const c=bn;_n(e);const u=e.$$={fragment:null,ctx:[],props:o,update:re,not_equal:s,bound:Fl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Fl(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};r&&r(u.root);let _=!1;if(u.ctx=n?n(e,t.props||{},(d,h,...m)=>{const g=m.length?m[0]:h;return u.ctx&&s(u.ctx[d],u.ctx[d]=g)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](g),_&&ti(e,d)),h}):[],u.update(),_=!0,Re(u.before_update),u.fragment=l?l(u.ctx):!1,t.target){if(t.hydrate){const d=Yo(t.target);u.fragment&&u.fragment.l(d),d.forEach(P)}else u.fragment&&u.fragment.c();t.intro&&J(e.$$.fragment),Be(e,t.target,t.anchor),ao()}_n(c)}class ot{constructor(){el(this,"$$");el(this,"$$set")}$destroy(){Ne(this,1),this.$destroy=re}$on(t,n){if(!qt(n))return re;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!Lo(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ni="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ni);const li="/assets/coffee-RGiFEzqH.wav",si="/assets/cup1-BSMcsAm_.wav",ri="/assets/cup2-BFXI2o7j.wav",oi="/assets/cup3-ByRE2b7y.wav",ii="/assets/espresso-C1F8ZpgQ.wav",ai="/assets/grinder-xBm7bAK8.wav",Wt=[];function Ae(e,t=re){let n;const l=new Set;function s(a){if(nt(e,a)&&(e=a,n)){const c=!Wt.length;for(const u of l)u[1](),Wt.push(u,e);if(c){for(let u=0;u<Wt.length;u+=2)Wt[u][0](Wt[u+1]);Wt.length=0}}}function o(a){s(a(e))}function r(a,c=re){const u=[a,c];return l.add(u),l.size===1&&(n=t(s,o)||re),a(e),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}const po="the-grind-nux";function ci(){var e;try{const t=localStorage.getItem(po);if(t)return JSON.parse(t)}catch{}try{const t=localStorage.getItem("the-grind-db");if(t){const n=JSON.parse(t),l=((e=n==null?void 0:n.stats)==null?void 0:e.totalOrders)??0,s=Array.isArray(n==null?void 0:n.staff)&&n.staff.length>0,o=Array.isArray(n==null?void 0:n.menu)&&n.menu.length>0,r=!s&&!o&&l===0;return{active:r,step:0,completed:!r}}}catch{}return{active:!0,step:0,completed:!1}}const Qe=Ae(ci());Qe.subscribe(e=>{try{localStorage.setItem(po,JSON.stringify(e))}catch{}});const dn=[{id:0,targetId:"name-input",message:"Please enter your name to get started.",manual:!0},{id:1,targetId:"open-menu",message:"First, we need to add an item to the menu. Click on Manage Menu."},{id:2,targetId:"add-drip",message:"Add Drip Coffee. This is a simple beverage to get you started."},{id:3,targetId:"open-shop",message:"Now, we need to buy coffee grounds. Click on Shop."},{id:4,targetId:"buy-grounds",message:`Buy some Coffee Grounds. 

In the shop, you can also buy equipment. We already have a Drip Coffee Machine, as you can see below.`},{id:5,targetId:"orders-header",message:"Now that you have your first item and some grounds, let's watch your first customers come in."},{id:6,targetId:"stats",message:`Now that you have some customers, you have to keep an idea on your business health. 
Popularity and demand is vital for attracting more customers, while cash is vital for staying in business.`,manual:!0},{id:7,targetId:"open-hiring",message:"When things start to get busy, you can hire more staff."},{id:8,targetId:"hiring-intro",message:`Here, you can hire employees & managers. 

Employees will work on orders.

Managers unlock new capabilities after your shop is more established.`,manual:!0},{id:9,targetId:"cafe-settings",message:"Finally, you can customize your Café. Upgrades improve your shop's vibe, which boosts demand and customer enjoyment.",manual:!0}],ui="Welcome to The Grind",fi="Run your own coffee shop, craft your menu, manage staff, and grow your business. This quick tutorial will get you brewing.",di="Good luck ☕️";var mo=(e=>(e.DRIP_COFFEE_MACHINE="☕️ Drip coffee machine",e.COFFEE_GRINDER="☕️ Coffee grinder",e.ESPRESSO_MACHINE="☕️ Espresso machine",e.MILK_FROTHER="🥛 Milk frother",e.ICE_MACHINE="🧊 Ice machine",e))(mo||{}),je=(e=>(e.GENERAL="General manager, speeds up all orders by up to 20%. Gains XP over time. ",e.FINANCIAL="Financial manager, unlocks upgrades like setting prices. Gains XP over time. ",e.INVENTORY="Inventory manager, automatically restocks inventory. Gains XP by restocking.",e))(je||{});const wl=[{id:"first",name:"Complete 5 orders",completed:!1,showingCompletion:!1,reward:{cash:250,popularity:15},isCompleted:e=>e.orders.filter(n=>n.completion===100).length>=5},{id:"hire",name:"Hire an employee",completed:!1,showingCompletion:!1,reward:{cash:250,popularity:5},isCompleted:e=>e.staff.length>1},{id:"profitable-day",name:"Have a profitable day",completed:!1,showingCompletion:!1,reward:{cash:250,popularity:5},isCompleted:e=>e.stats.profitYesterday>0},{id:"add-menu-item",name:"Add another menu item",completed:!1,showingCompletion:!1,reward:{cash:250,popularity:5},isCompleted:e=>e.menu.length>1},{id:"espresso-master",name:"Serve 10 espresso-based drinks",completed:!1,showingCompletion:!1,reward:{cash:500,popularity:10},isCompleted:e=>e.orders.filter(n=>n.completion===100&&n.items.some(l=>l.name.includes("Espresso")||l.name.includes("Latte")||l.name.includes("Cappuccino")||l.name.includes("Americano"))).length>=100},{id:"equipment-upgrade",name:"Buy new equipment",completed:!1,showingCompletion:!1,reward:{cash:750,popularity:5},isCompleted:e=>e.ownedEquipment.length>1},{id:"tea-specialist",name:"Serve 100 tea-based drinks",completed:!1,showingCompletion:!1,reward:{cash:500,popularity:2},isCompleted:e=>e.orders.filter(n=>n.completion===100&&n.items.some(l=>l.name.includes("Tea")||l.name.includes("Chai"))).length>=100},{id:"big-profit-day",name:"Make $1000 profit in one day",completed:!1,showingCompletion:!1,reward:{cash:1e3,popularity:0},isCompleted:e=>e.stats.profitToday>=500},{id:"diversified-menu",name:"Have 5 different menu items",completed:!1,showingCompletion:!1,reward:{cash:600,popularity:2},isCompleted:e=>e.menu.length>=5},{id:"growing-team",name:"Hire 3 employees",completed:!1,showingCompletion:!1,reward:{cash:800,popularity:3},isCompleted:e=>e.staff.length>=4},{id:"month-milestone",name:"Stay in business for 30 days",completed:!1,showingCompletion:!1,reward:{cash:30,popularity:15},onCompleted:e=>{alert("Congratulations on your first month! Your coffee shop is becoming a local favorite!")},isCompleted:e=>Math.floor(e.tick/1e3)>=30},{id:"premium-equipment",name:"Own an espresso machine",completed:!1,showingCompletion:!1,reward:{cash:750,popularity:15},isCompleted:e=>e.ownedEquipment.some(t=>t.name==="☕️ Espresso machine")},{id:"cash-reserves",name:"Save up $10000 in cash",completed:!1,showingCompletion:!1,reward:{cash:1e3,popularity:0},isCompleted:e=>e.cash>=1e4},{id:"rush-hour-hero",name:"Complete 100 orders in one day",completed:!1,showingCompletion:!1,reward:{cash:5e3,popularity:5},isCompleted:e=>e.stats.ordersToday>=100},{id:"equipment-collector",name:"Own all 5 types of equipment",completed:!1,showingCompletion:!1,reward:{cash:500,popularity:0},isCompleted:e=>["☕️ Drip coffee machine","☕️ Coffee grinder","☕️ Espresso machine","🥛 Milk frother","🧊 Ice machine"].every(n=>e.ownedEquipment.some(l=>l.name===n))},{id:"revenue-milestone",name:"Generate $1000 revenue in one day",completed:!1,showingCompletion:!1,reward:{cash:2500,popularity:2},isCompleted:e=>e.stats.revenueToday>=1e3},{id:"total-orders-100",name:"Complete 100 total orders",completed:!1,showingCompletion:!1,reward:{cash:800,popularity:3},onCompleted:e=>{alert("100 orders served! Your coffee shop is gaining momentum!")},isCompleted:e=>e.stats.totalOrders>=100}],ho=[{name:"☕️ Drip coffee",ingredients:{"☕️ Coffee Grounds":1},price:3,complexity:2,demand:100,default:!1,requires:["☕️ Drip coffee machine"],marketPrice:3},{name:"☕️ Espresso (single)",ingredients:{"☕️ Coffee Beans":1},price:3,complexity:3,demand:80,requires:["☕️ Espresso machine","☕️ Coffee grinder"],marketPrice:3},{name:"☕️ Espresso (double)",ingredients:{"☕️ Coffee Beans":2},price:4,complexity:3,demand:90,requires:["☕️ Espresso machine","☕️ Coffee grinder"],marketPrice:4},{name:"☕️ Americano (hot)",ingredients:{"☕️ Coffee Beans":2},price:4,complexity:4,demand:85,requires:["☕️ Espresso machine","☕️ Coffee grinder"],marketPrice:4},{name:"☕️ Latte",ingredients:{"☕️ Coffee Beans":1,"🥛 Milk (cow)":3},price:5,complexity:4,demand:120,requires:["☕️ Espresso machine","☕️ Coffee grinder","🥛 Milk frother"],marketPrice:5},{name:"☕️ Cappuccino",ingredients:{"☕️ Coffee Beans":1,"🥛 Milk (cow)":2},price:5,complexity:5,demand:110,requires:["☕️ Espresso machine","☕️ Coffee grinder","🥛 Milk frother"],marketPrice:5},{name:"🍵 Black Tea",ingredients:{"🍵 Black Tea":1},price:2,complexity:1,demand:40,requires:[],marketPrice:2},{name:"🍵 Green Tea",ingredients:{"🍵 Green Tea":1},price:2,complexity:1,demand:45,requires:[],marketPrice:2},{name:"🧊 Iced Coffee",ingredients:{"☕️ Coffee Beans":1},price:4,complexity:2,demand:95,requires:["🧊 Ice machine"],marketPrice:4},{name:"🧊 Iced Americano",ingredients:{"☕️ Coffee Beans":2},price:5,complexity:3,demand:75,requires:["🧊 Ice machine","☕️ Espresso machine","☕️ Coffee grinder"],marketPrice:5},{name:"🧊 Iced Latte",ingredients:{"☕️ Coffee Beans":1,"🥛 Milk (cow)":3},price:6,complexity:4,demand:130,requires:["🧊 Ice machine","☕️ Espresso machine","☕️ Coffee grinder","🥛 Milk frother"],marketPrice:6},{name:"🧊 Iced Cappuccino",ingredients:{"☕️ Coffee Beans":1,"🥛 Milk (cow)":2},price:6,complexity:4,demand:115,requires:["🧊 Ice machine","☕️ Espresso machine","☕️ Coffee grinder","🥛 Milk frother"],marketPrice:6},{name:"🍵 Chai latte",ingredients:{"🍵 Chai Tea":1,"🥛 Milk (cow)":1},price:5,complexity:4,demand:115,requires:[],marketPrice:5}],sn=[{name:"☕️ Coffee Grounds",description:"For drip coffee",quantity:100,cost:75},{name:"☕️ Coffee Beans",description:"For espresso drinks, needs to be ground first",quantity:100,cost:100},{name:"🥛 Milk (cow)",description:"For milk-based drinks",quantity:20,cost:4,requires:[]},{name:"🍵 Black Tea",description:"",quantity:150,cost:10,requires:["🍵 Black Tea"]},{name:"🍵 Green Tea",description:"",quantity:150,cost:10,requires:["🍵 Green Tea"]},{name:"🍵 Chai Tea",description:"",quantity:100,cost:100,requires:[]}],vn=[{name:"☕️ Drip coffee machine",cost:200,quality:100,durability:.2,failureChance:.005,upgrades:[{cost:2e3,speedMultiplier:1.25,purchased:!1,description:"Hot-plate. 25% faster to pour."}]},{name:"☕️ Coffee grinder",cost:200,quality:100,durability:.2,failureChance:1e-4,upgrades:[{cost:2e3,speedMultiplier:1.25,purchased:!1,description:"Auto-grind to the right amount. 25% faster."}]},{name:"☕️ Espresso machine",cost:1500,quality:100,durability:.2,failureChance:.01,upgrades:[{cost:2e3,speedMultiplier:1.25,purchased:!1,failureChance:.75,description:"Temperature regulator. 25% lower chance of failure."}]},{name:"🥛 Milk frother",cost:100,quality:100,durability:.2,failureChance:1e-6,upgrades:[]},{name:"🧊 Ice machine",cost:1500,quality:100,durability:.001,failureChance:1e-7,upgrades:[]}];function pi(e){const t=Math.max(0,Math.min(2e3,e));return t<=200?4+(200-t)*.0075:t<=600?4+(t-200)*-.0075:t<=1e3?1+(t-600)*-.005:-1}function _o(e,t){const n=pi(t);return Math.max(1,2*e+n)}function go(e){const t=Math.max(0,e||0),n=2/3,l=2,s=Math.min(1,t/250),o=n+(l-n)*s;return Math.max(n,Math.min(l,o))}function mi(e){const t=e*10;return Math.max(200,Math.min(1e3,t))}function hi(e,t,n){const l=mi(t),s=e.reduce((c,u)=>c+_o(u.complexity,l),0)*1.2,o=.8+Math.random()*.4,r=s*o,a=1+(n-1)/2;return Math.max(1,Math.round(r*a))}let Ll=["Alex","Jordan","Taylor","Casey","Morgan","Riley","Quinn","Avery","Blake","Dakota","Parker","Hayden","Reese","Sage","Rowan"];function kl(e){let t="";if(e)switch(e){case je.GENERAL:t="👔 ";break;case je.FINANCIAL:t="💰 ";break;case je.INVENTORY:t="📦 ";break}return t+Ll[Math.floor(Math.random()*Ll.length)]}function Un(e){return e.reduce((t,n)=>{let l=n.demand;if(n.marketPrice>0){const s=n.price/n.marketPrice,o=Math.max(.1,Math.min(3,1/s));l=n.demand*o}return t+l},0)}function pn(e,t){return t.managers.some(n=>n.trait===e)}function bo(e){const t=Se(wn)||"You";if(t){const n={name:t,dailyWage:0,experience:Math.floor(Math.random()*250+250),currentOrder:null,menuItemProficiency:{},happiness:1,dailyMenuItemsMade:[]};e.staff.push(n)}for(const n of ho)n.default&&e.menu.push(n);return e.totalDemand=Un(e.menu),e.stats.profitToday=0,e.stats.profitYesterday=0,e.stats.popularityYesterday=e.popularity,e.stats.popularityChange=0,e.stats.ordersChange=0,e.startingCash=e.cash,e.quests=wl,e.managers=[],e.tick=1001,e}function _i(e,t){var a;const n=t.staff.find(c=>c.currentOrder===e.id);if(!n)return t;const l=e.items[0];if(!l)return t;let s=t.managers.some(c=>c.trait===je.GENERAL),o=1;if(s){const c=t.managers.find(u=>u.trait===je.GENERAL);c&&(c.experience<2e3?o*=1.1:c.experience<4e3?o*=1.3:c.experience<6e3?o*=1.5:c.experience<8e3?o*=1.7:o*=2)}if(l.requires)for(const c of l.requires){const u=t.ownedEquipment.find(h=>h.name===c);if(!u)return t;let _=1;if(u.upgrades)for(const h of u.upgrades)h.purchased&&(h.speedMultiplier&&(o*=h.speedMultiplier),h.failureChance&&(_*=h.failureChance));const d=vn.find(h=>h.name===c);if(d&&d.failureChance&&Math.random()<d.failureChance*_)return t}const r=l.ingredients;for(const c in r){const u=t.inventory.find(_=>_.name===c);if(!u||u.quantity<r[c])return t}if(e.completion<100){const c=((a=n.menuItemProficiency)==null?void 0:a[l.name])||0,u=go(c),_=n.happiness||1,d=_o(l.complexity,n.experience),m=100/Math.max(1,d/(o*u*_));e.completion=Math.round(Math.min(100,e.completion+m)*10)/10;const g=t.orders.find(y=>y.id===e.id);return g&&(g.completion=e.completion),t}if(e.completion>=100){for(const h in r){const m=r[h],g=t.inventory.find(y=>y.name===h);g&&(g.quantity-=m)}t.cash+=l.price,t.stats.revenueToday+=l.price,Math.random()<.2&&(n.experience+=l.complexity*.1),n.menuItemProficiency||(n.menuItemProficiency={}),n.menuItemProficiency[l.name]=(n.menuItemProficiency[l.name]||0)+1,n.dailyMenuItemsMade||(n.dailyMenuItemsMade=[]),n.dailyMenuItemsMade.push(l.name);const c=l.requires;if(c)for(const h of c){const m=t.ownedEquipment.find(g=>g.name===h);m&&m.quality>0&&Math.random()<m.durability&&(m.quality-=1)}if(e.items.shift(),e.items.length>0)return e.completion=0,t;const u=e.ticksToComplete,_=e.customerPatience;console.log("[Order complete]",{expectedTicks:_,completedTicks:u});const d=Math.round(e.customerPatience*1.5);if(u<=_){const m=.7+.25*Math.max(0,Math.min(1,(_-u)/Math.max(1,_)));Math.random()<m&&(t.popularity+=1)}else if(u>d){const m=.4+.2*Math.max(0,Math.min(1,(u-d)/Math.max(1,d)));if(Math.random()<m){t.popularity-=1,Nn.set(`${e.customer} expected their order faster`),setTimeout(()=>{Nn.set("")},3e3);let g=Math.random();const y=g<.25?new Audio("/meh1.mp3"):g<.5?new Audio("/meh2.wav"):g<.75?new Audio("/meh3.mp3"):new Audio("/meh4.wav");y.currentTime=0,y.volume=.2,y.play()}}else Math.random()<.1&&(t.popularity+=Math.random()<.5?1:-1);return n.currentOrder=null,t.stats.totalOrders+=1,t.stats.ordersToday+=1,t}return t}function gi(){const e=Se(oe),n=e.menu.filter(a=>!(a.requires&&!a.requires.every(c=>e.ownedEquipment.some(u=>u.name===c))));if(n.length===0)return null;const s=e.popularity/200;let o=[];if(Math.random()<s){const a=Math.floor(Math.random()*2)+2;let c=JSON.parse(JSON.stringify(e.inventory));for(let u=0;u<a;u++){let _=n.filter(h=>{var m;for(const g in h.ingredients){const y=h.ingredients[g];if((((m=c.find(w=>w.name===g))==null?void 0:m.quantity)||0)<y)return!1}return!0});if(_.length===0)break;const d=_[Math.floor(Math.random()*_.length)];o.push(d);for(const h in d.ingredients){const m=d.ingredients[h];let g=c.find(y=>y.name===h);g&&(g.quantity-=m)}}}if(o.length===0){const a=n[Math.floor(Math.random()*n.length)];o.push(a)}const r=hi(o,e.popularity,e.vibe);return{id:e.orders.length+Date.now(),customer:kl(),items:[...o],originalItems:[...o],completion:0,ticksToComplete:0,customerPatience:r}}function Dl(){let e=[];for(let t=0;t<3;t++){let n=Math.floor(Math.random()*1e3+10);n>1e3&&(n=1e3);const l=60+Math.floor(Math.random()*31),s=Math.pow(n/1e3,1.6),o=Math.floor(s*400);let r={name:kl(),dailyWage:l+o,experience:n,currentOrder:null,menuItemProficiency:{},happiness:Math.random()*1.2+.4,dailyMenuItemsMade:[]};e.push(r)}return e}function Hl(){const t=Se(oe).managers.map(o=>o.trait),n=Object.values(je).filter(o=>!t.includes(o));if(n.length===0)return[];const l=[...n].sort(()=>Math.random()-.5),s=Math.min(3,n.length);return Array.from({length:s},(o,r)=>{const a=Math.floor(Math.random()*1e3+10),c=Math.floor(Math.random()*200+Math.pow(a/1e3,1.5)*400+100);return{name:kl(l[r]),dailyWage:c,experience:a,happiness:Math.random()*1.2+.4,trait:l[r]}})}function bi(e){const n=Math.pow(e.experience/1e3,1.6),s=75+Math.floor(n*400),o=e.dailyWage,r=s-o,a=o*.15;return r>a?Math.round(r/2)*2:0}function vo(e,t,n,l){let s=!1;return oe.update(o=>{if(o.cash<n)return o;o.cash-=n,o.stats.expensesToday+=n;const r=o.inventory.find(a=>a.name===e);return r?r.quantity+=t:o.inventory=[...o.inventory,{name:e,description:l,quantity:t}],s=!0,o}),s}function vi(e){let t=!1;return oe.update(n=>{const l=n.ownedEquipment.find(o=>o.name===e);if(!l)return n;const s=l.cost/8;return n.cash<s||(n.cash-=s,n.stats.expensesToday+=s,l.quality=100,t=!0),n}),t}function yi(e,t){let n=!1;return oe.update(l=>{const s=l.menu.find(o=>o.name===e);return s&&(s.price=t,n=!0),l}),n}function xi(e){let t=0;for(const n in e.ingredients){const l=e.ingredients[n],s=sn.find(o=>o.name===n);if(s){const o=s.cost/s.quantity;t+=o*l}}return t}function wi(e){return e.menu.forEach(t=>{let n;const l=Math.random();l<.7?n=Math.random()*.03:l<.95?n=.03+Math.random()*.04:n=.07+Math.random()*.03;const o=(Math.random()<.5?-1:1)*n,r=t.marketPrice*(1+o);t.marketPrice=Math.max(1,Math.min(10,r)),t.marketPrice=Math.round(t.marketPrice*100)/100}),e}function ki(e){if(!pn(je.INVENTORY,e))return e;const t=e.managers.find(o=>o.trait===je.INVENTORY);if(!t)return e;const s=1/(50-(Math.max(200,Math.min(1e3,t.experience))-200)*.034375);return Math.random()>s||e.inventory.forEach(o=>{if(o.quantity<10){const r=sn.find(a=>a.name===o.name);if(r){const a=e.cash>=r.cost;let c=!0;if(r.requires){const u=vn.find(_=>{var d;return(d=r.requires)==null?void 0:d.includes(_.name)});u&&(c=e.ownedEquipment.some(_=>_.name===u.name))}if(a&&c){const u=10-o.quantity,_=r.quantity,d=Math.ceil(u/_),h=r.cost*d;e.cash>=h&&(e.cash-=h,e.stats.expensesToday+=h,o.quantity+=_*d,e.managers.forEach(m=>{m.trait===je.INVENTORY&&(m.experience+=Math.floor(Math.random()*5))}))}}}}),e}function Ci(e){const t=e.staff.reduce((l,s)=>l+s.dailyWage,0),n=e.managers.reduce((l,s)=>l+s.dailyWage,0);return t+n}function yo(e){const t=e.cafeSettings.reduce((n,l)=>{const s=l.levels[Math.min(l.level,l.levels.length-1)],o=(s==null?void 0:s.weeklyCost)||0;return n+o},0);return Math.round(t/7)}function tt(e){return e.stats.profitToday-Ci(e)-yo(e)}const xo="the-grind-db";let lt=null,Tt=null,jl=!1,nl=!1;const Mi=["/jazz1.mp3","/jazz2.mp3"];let Fn=0,_l=null,Rl=null;const Si=Object.assign({"../assets/sfx/coffee.wav":li,"../assets/sfx/cup1.wav":si,"../assets/sfx/cup2.wav":ri,"../assets/sfx/cup3.wav":oi,"../assets/sfx/espresso.wav":ii,"../assets/sfx/grinder.wav":ai}),ll=Object.values(Si);function wo(e,t){return Math.random()*(t-e)+e}function Cl(e){e!==null&&window.clearTimeout(e)}function Ei(){Cl(_l);const e=Math.floor(wo(8,20)*1e3);_l=window.setTimeout(()=>{const t=1-Fn;Co(t)},e)}function Pi(){lt||(lt=new Audio,lt.volume=.3,lt.loop=!1,lt.addEventListener("ended",()=>{Ei()}))}function ko(){if(nl)return;nl=!0;const e=()=>{lt&&lt.play().catch(console.warn),Tt&&Tt.play().catch(console.warn),document.removeEventListener("click",e),document.removeEventListener("keydown",e),nl=!1};document.addEventListener("click",e),document.addEventListener("keydown",e)}function Co(e){if(Pi(),!!lt){Fn=e,Cl(_l);try{lt.pause()}catch{}lt.currentTime=0,lt.src=Mi[Fn],lt.play().catch(()=>{ko()})}}function Mo(){if(Cl(Rl),ll.length===0)return;const e=Math.floor(wo(5,15)*1e3);Rl=window.setTimeout(()=>{const t=ll[Math.floor(Math.random()*ll.length)],n=new Audio(t);n.volume=.25,n.play().catch(()=>{}).finally(()=>{Mo()})},e)}function So(){typeof window>"u"||jl||(jl=!0,Co(Fn),Tt||(Tt=new Audio("/background.mp3"),Tt.volume=.7,Tt.loop=!0),Tt.play().catch(()=>{ko()}),Mo())}let Ze=null,gn=null,Bn=null,Pn=null,mn=[],gl=!1,sl=0;const Ti=6;function Eo(){if(typeof window>"u"||Ze)return;const e=window.AudioContext||window.webkitAudioContext;e&&(Ze=new e,Ze&&(gn=Ze.createGain(),gn.gain.value=.12,gn.connect(Ze.destination)))}async function Po(){if(Ze&&!Bn)return Pn||(Pn=(async()=>{const t=await(await fetch("/click.wav")).arrayBuffer();Bn=await Ze.decodeAudioData(t)})(),Pn)}function Ml(){if(!(typeof window>"u")){if(Eo(),Ze){Po();return}if(!gl){gl=!0;for(let e=0;e<Ti;e++){const t=new Audio("/click.wav");t.volume=.12,t.preload="auto",mn.push(t)}}}}function To(){try{if(Eo(),Ze&&gn){if(Ze.state==="suspended"&&Ze.resume(),!Bn){Po();return}const t=Ze.createBufferSource();t.buffer=Bn,t.connect(gn),t.start(0);return}if(gl||Ml(),mn.length===0)return;const e=mn[sl%mn.length];sl=(sl+1)%mn.length,e.currentTime=0,e.play().catch(()=>{})}catch{}}function $o(){try{if(!Ze)return;Ze.resume()}catch{}}const Io=[{name:"Seating",levels:[{description:"A couple of chairs",cost:0,vibeEffect:0},{description:"Some tables and benches",cost:2e3,vibeEffect:1.25},{description:"The maximum number of tables & chairs, along with bar seating",cost:5e3,vibeEffect:1.5}],level:0},{name:"Bathrooms",levels:[{description:"A basic bathroom",cost:0,vibeEffect:0},{description:"A bathroom with air fresheners & music",cost:500,vibeEffect:1.25}],level:0},{name:"Lighting",levels:[{description:"Basic fluorescent overhead lighting",cost:0,vibeEffect:0},{description:"Warm LED bulbs and table lamps",cost:800,vibeEffect:1.15},{description:"Professional ambient lighting with dimmers",cost:2500,vibeEffect:1.35}],level:0},{name:"Music",levels:[{description:"No music",cost:0,vibeEffect:0},{description:"Nice speakers, music curated by staff",cost:300,vibeEffect:1.1},{description:"Great system & piano that customers can play",cost:1500,vibeEffect:1.2}],level:0},{name:"Decor",levels:[{description:"Bare walls and minimal decor",cost:0,vibeEffect:0},{description:"Local art, plants, and cozy touches",cost:1200,vibeEffect:1.25},{description:"Curated gallery wall and premium interior design",cost:4e3,vibeEffect:1.25}],level:0},{name:"Remote Work Policy",levels:[{description:"No laptops or remote work allowed",cost:0,vibeEffect:0},{description:"Laptops welcome during off-peak hours only",cost:0,weeklyCost:100,vibeEffect:1.25},{description:"Full remote work friendly with dedicated zones",cost:0,weeklyCost:200,vibeEffect:1.35}],level:0},{name:"Pet Policy",levels:[{description:"No pets allowed",cost:0,vibeEffect:0},{description:"Pets welcome!",cost:0,weeklyCost:100,vibeEffect:1.5}],level:0},{name:"Community Events",levels:[{description:"No special events or community programming",cost:0,vibeEffect:0},{description:"Monthly book clubs and small gatherings",cost:0,weeklyCost:200,vibeEffect:1.3},{description:"Weekly live music, art shows, and community events",cost:0,weeklyCost:1e3,vibeEffect:1.5}],level:0}],$t={tick:1e3,popularity:25,totalDemand:0,vibe:1,cash:100,cafeSettings:Io,managers:[],staff:[],orders:[],inventory:[],quests:wl,menu:[],ownedEquipment:[{name:mo.DRIP_COFFEE_MACHINE,cost:200,quality:100,durability:.08,failureChance:.005,upgrades:[{cost:2e3,speedMultiplier:1.25,purchased:!1,description:"Hot-plate. 25% faster to pour."}]}],stats:{totalOrders:0,ordersYesterday:0,ordersToday:0,profitToday:0,profitYesterday:0,revenueToday:0,expensesToday:0,popularityYesterday:50,popularityChange:0,ordersChange:0},startingCash:0};function $i(e){const t={...$t,...e,cafeSettings:(()=>{const n=Array.isArray(e.cafeSettings)?e.cafeSettings:[];return $t.cafeSettings.map(l=>{const s=n.find(o=>o&&o.name===l.name);return{...l,level:typeof(s==null?void 0:s.level)=="number"&&s.level>=0?Math.min(Math.max(0,s.level),l.levels.length-1):l.level??0}})})(),managers:e.managers||[],stats:{...$t.stats,...e.stats}};return(t.totalDemand===void 0||t.totalDemand===null)&&(t.totalDemand=Un(t.menu)),t.cash=Math.round(t.cash),t.popularity=Math.min(100,Math.max(0,t.popularity)),t}function Ii(){const e=localStorage.getItem(xo);if(e)try{const t=JSON.parse(e);return $i(t)}catch{return console.warn("Failed to parse localStorage, using default database"),$t}return $t}const oe=Ae(Ii());let rl=null;function qi(){rl&&rl(),rl=oe.subscribe(e=>{localStorage.setItem(xo,JSON.stringify(e))})}qi();const It=Ae(!1),Yl=Se(Qe),ue=Ae(!!(Yl.active&&(Yl.step??0)<5)),Nn=Ae(""),Ln=Ae([]),rn=Ae(!1),yn=Ae(200),Sl="the-grind-ui";function Ai(){try{const e=localStorage.getItem(Sl);if(e)return JSON.parse(e)}catch{}return{}}function Oi(){try{const e=localStorage.getItem("the-grind-player-name");if(e)return e}catch{}return""}const an=Ai();localStorage.getItem(Sl);const wn=Ae("");wn.set(Oi());wn.subscribe(e=>{try{localStorage.setItem("the-grind-player-name",e)}catch{}});const at=Ae(!!an.showHiringModal),st=Ae(!!an.showShopModal),mt=Ae(!!an.showMenuPage),ht=Ae(!!an.showStaffDetailModal),gt=Ae(!!an.showDeveloperModal),ct=Ae(!!an.showPriceAdjustmentModal),tn=Ae(null),xn=Ae(null),nn=Ae("orders");let ol=null,il=null;function Fi(){ol&&ol(),ol=Qe.subscribe(e=>{const t=e.active&&(e.step??0)<5;ue.set(t)})}Fi();function Bi(){il&&il(),il=ue.subscribe(e=>{const t=Se(Qe);t.active&&(t.step??0)<5&&!e&&ue.set(!0)})}Bi();let al=[];function zt(){const e={showHiringModal:Se(at),showShopModal:Se(st),showMenuPage:Se(mt),showStaffDetailModal:Se(ht),showDeveloperModal:Se(gt),showPriceAdjustmentModal:Se(ct)};try{localStorage.setItem(Sl,JSON.stringify(e))}catch{}}function Ni(){al.forEach(e=>e()),al=[],al.push(at.subscribe(()=>zt()),st.subscribe(()=>zt()),mt.subscribe(()=>zt()),ht.subscribe(()=>zt()),gt.subscribe(()=>zt()),ct.subscribe(()=>zt()))}Ni();const Li=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_CAFE_SETTINGS:Io,DEFAULT_DB:$t,currentTip:Nn,currentView:nn,databaseStore:oe,endOfDayMessages:Ln,gameSpeed:yn,initializeBackgroundMusic:So,paused:ue,playClickSfx:To,playerName:wn,prepareClickSfxPool:Ml,resumeAudioContext:$o,selectedEmployee:tn,selectedMenuItem:xn,showDeveloperModal:gt,showEndOfDay:It,showHiringModal:at,showMenuPage:mt,showPriceAdjustmentModal:ct,showQuestConfetti:rn,showShopModal:st,showStaffDetailModal:ht},Symbol.toStringTag,{value:"Module"}));var Wl="mz3PUW_p",zl=["#FFC700","#FF0000","#2E3191","#41BBC7"],Ul=3500,Gl=.5,Jl=150,Vl="mix",Xl=12,Ql="",Kl=!0,Zl=800,es=1600;function Di(e,t={}){let{colors:n=zl,duration:l=Ul,force:s=Gl,particleCount:o=Jl,particleShape:r=Vl,particleSize:a=Xl,particleClass:c=Ql,destroyAfterDone:u=Kl,stageHeight:_=Zl,stageWidth:d=es}=t;(function(M){if(document.querySelector("style[data-neoconfetti]"))return;const I=cl("style");I.dataset.neoconfetti="",I.textContent=M,ul(document.head,I)})('@keyframes mz3PUW_ya{to{translate:0 var(--sh)}}@keyframes mz3PUW_xa{to{translate:var(--xlp)0}}@keyframes mz3PUW_r{50%{rotate:var(--hr)180deg}to{rotate:var(--r)360deg}}.mz3PUW_c{z-index:1200;width:0;height:0;position:relative;overflow:visible}.mz3PUW_p{animation:xa var(--dc)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:mz3PUW_xa}.mz3PUW_p>div{animation:ya var(--dc)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--w);height:var(--h);animation-name:mz3PUW_ya;position:absolute;top:0;left:0}.mz3PUW_p>div:before{content:"";background-color:var(--bgc);animation:r var(--rd)infinite linear;border-radius:var(--br);width:100%;height:100%;animation-name:mz3PUW_r;display:block}'),e.classList.add("mz3PUW_c"),e.style.setProperty("--sh",_+"px");let h=[],m=[];const g=()=>hn(pt()*(Wi-1)),y=(M,I)=>r!=="rectangles"&&(M==="circles"||zi(I));function b(M,I){const N=g(),S=y(r,N),C=($,B)=>M.style.setProperty($,B+"");C("--xlp",fl(Tn(ss(I,90)-180),0,180,-d/2,d/2)+"px"),C("--dc",l-hn(1e3*pt())+"ms");const A=pt()<ji?Ut(pt()*Ri,2):0;C("--x1",A),C("--x2",-1*A),C("--x3",A),C("--x4",Ut(Tn(fl(Tn(ss(I,90)-180),0,180,-1,1)),4)),C("--y1",Ut(pt()*ns,4)),C("--y2",Ut(pt()*s*(qo()?1:-1),4)),C("--y3",ns),C("--y4",Ut(Yi(fl(Tn(I-180),0,180,s,-s),0),4)),C("--w",(S?a:hn(4*pt())+a/2)+"px"),C("--h",(S?a:hn(2*pt())+a)+"px");const E=N.toString(2).padStart(3,"0").split("");C("--hr",E.map($=>+$/2+"").join(" ")),C("--r",E.join(" ")),C("--rd",Ut(pt()*(Hi-ts)+ts)+"ms"),C("--br",S?"50%":0)}let w;function k(){e.innerHTML="",clearTimeout(w),h=ls(o,n),m=function(M,I=[],N){const S=[];for(const{color:C}of I){const A=cl("div");A.className=`${Wl} ${N}`,A.style.setProperty("--bgc",C);const E=cl("div");ul(A,E),ul(M,A),S.push(A)}return S}(e,h,c);for(const[M,I]of rs(m))b(I,h[+M].degree);w=setTimeout(()=>{u&&(e.innerHTML="")},l)}return k(),{update(M){const I=M.particleCount??Jl,N=M.particleShape??Vl,S=M.particleSize??Xl,C=M.particleClass??Ql,A=M.colors??zl,E=M.stageHeight??Zl,$=M.duration??Ul,B=M.force??Gl,W=M.stageWidth??es,D=M.destroyAfterDone??Kl;h=ls(I,A);let j=!1;if(I===o){m=Array.from(e.querySelectorAll(`.${Wl}`));for(const[z,{color:q}]of rs(h)){const L=m[+z];JSON.stringify(n)!==JSON.stringify(A)&&L.style.setProperty("--bgc",q),N!==r&&L.style.setProperty("--br",y(N,g())?"50%":"0"),C!==c&&(c&&L.classList.remove(c),C&&L.classList.add(C))}}else j=!0;u&&!D&&clearTimeout(w),e.style.setProperty("--sh",E+"px"),l=$,n=A,s=B,o=I,r=N,a=S,c=C,u=D,_=E,d=W,j&&k()},destroy(){e.innerHTML="",clearTimeout(w)}}}var ts=200,Hi=800,ji=.1,Ri=.3,ns=.5,Tn=Math.abs,pt=Math.random,hn=Math.round,Yi=Math.max,cl=e=>document.createElement(e),ul=(e,t)=>e.appendChild(t),ls=(e,t)=>Array.from({length:e},(n,l)=>({color:t[l%t.length],degree:360*l/e})),Ut=(e,t=2)=>hn((e+Number.EPSILON)*10**t)/10**t,fl=(e,t,n,l,s)=>(e-t)*(s-l)/(n-t)+l,ss=(e,t)=>e+t>360?e+t-360:e+t,qo=()=>pt()>.5,rs=Object.entries,Wi=6,zi=e=>e!==1&&qo();function Ui(e){const t=e-1;return t*t*t+1}function Dn(e){return--e*e*e*e*e+1}function Gi(e,{delay:t=0,duration:n=400,easing:l=bl}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:l,css:o=>`opacity: ${o*s}`}}function Hn(e,{delay:t=0,duration:n=400,easing:l=Ui,axis:s="y"}={}){const o=getComputedStyle(e),r=+o.opacity,a=s==="y"?"height":"width",c=parseFloat(o[a]),u=s==="y"?["top","bottom"]:["left","right"],_=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),d=parseFloat(o[`padding${_[0]}`]),h=parseFloat(o[`padding${_[1]}`]),m=parseFloat(o[`margin${_[0]}`]),g=parseFloat(o[`margin${_[1]}`]),y=parseFloat(o[`border${_[0]}Width`]),b=parseFloat(o[`border${_[1]}Width`]);return{delay:t,duration:n,easing:l,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*r};${a}: ${w*c}px;padding-${u[0]}: ${w*d}px;padding-${u[1]}: ${w*h}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*g}px;border-${u[0]}-width: ${w*y}px;border-${u[1]}-width: ${w*b}px;`}}const{Map:Ji}=Ho;function os(e,t,n){const l=e.slice();return l[13]=t[n],l}function is(e,t,n){const l=e.slice();l[22]=t[n],l[26]=t,l[27]=n;const s=l[22].levels[l[22].level];l[23]=s;const o=l[22].levels[l[22].level+1];l[24]=o;const r=l[24]?l[2].cash>=l[24].cost:!1;return l[25]=r,l}function as(e,t,n){const l=e.slice();return l[28]=t[n],l[30]=n,l}function cs(e,t,n){const l=e.slice();return l[16]=t[n],l[18]=n,l}function us(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function Vi(e){let t,n=e[2].cafeSettings&&e[2].cafeSettings.length>0&&fs(e);return{c(){t=p("div"),n&&n.c(),f(t,"class","max-w-4xl pb-8"),f(t,"data-nux-id","cafe-settings")},m(l,s){T(l,t,s),n&&n.m(t,null)},p(l,s){l[2].cafeSettings&&l[2].cafeSettings.length>0?n?n.p(l,s):(n=fs(l),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:re,o:re,d(l){l&&P(t),n&&n.d()}}}function Xi(e){let t,n=[],l=new Ji,s,o=e[2].orders.filter(Cs).length>10,r,a,c=e[1]&&_s(e),u=le(e[2].orders.filter(Ms).slice(0,10));const _=h=>h[16].id;for(let h=0;h<u.length;h+=1){let m=cs(e,u,h),g=_(m);l.set(g,n[h]=ys(g,m))}let d=o&&xs(e);return{c(){c&&c.c(),t=v();for(let h=0;h<n.length;h+=1)n[h].c();s=v(),d&&d.c(),r=bt()},m(h,m){c&&c.m(h,m),T(h,t,m);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(h,m);T(h,s,m),d&&d.m(h,m),T(h,r,m),a=!0},p(h,m){h[1]?c?(c.p(h,m),m&2&&J(c,1)):(c=_s(h),c.c(),J(c,1),c.m(t.parentNode,t)):c&&(ut(),ne(c,1,1,()=>{c=null}),ft()),m&4&&(u=le(h[2].orders.filter(Ms).slice(0,10)),ut(),n=ei(n,m,_,1,h,u,l,s.parentNode,Zo,ys,s,cs),ft()),m&4&&(o=h[2].orders.filter(Cs).length>10),o?d?d.p(h,m):(d=xs(h),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i(h){if(!a){J(c);for(let m=0;m<u.length;m+=1)J(n[m]);a=!0}},o(h){ne(c);for(let m=0;m<n.length;m+=1)ne(n[m]);a=!1},d(h){h&&(P(t),P(s),P(r)),c&&c.d(h);for(let m=0;m<n.length;m+=1)n[m].d(h);d&&d.d(h)}}}function fs(e){let t,n=le(e[2].cafeSettings),l=[];for(let s=0;s<n.length;s+=1)l[s]=hs(is(e,n,s));return{c(){t=p("div");for(let s=0;s<l.length;s+=1)l[s].c();f(t,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6")},m(s,o){T(s,t,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(s,o){if(o&4){n=le(s[2].cafeSettings);let r;for(r=0;r<n.length;r+=1){const a=is(s,n,r);l[r]?l[r].p(a,o):(l[r]=hs(a),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&P(t),Ee(l,s)}}}function ds(e){let t,n,l,s;function o(){return e[10](e[22],e[23],e[26],e[27])}return{c(){t=p("div"),n=p("button"),n.textContent="↓",f(n,"class","btn btn-xs bg-warning/70 hover:bg-warning text-textPrimary border-warning/50"),f(t,"class","tooltip tooltip-bottom"),f(t,"data-tip","Downgrade to previous level")},m(r,a){T(r,t,a),i(t,n),l||(s=X(n,"click",o),l=!0)},p(r,a){e=r},d(r){r&&P(t),l=!1,s()}}}function Qi(e){let t;return{c(){t=x("Max")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Ki(e){let t;function n(o,r){return o[24].weeklyCost&&o[24].weeklyCost>0?ea:Zi}let l=n(e),s=l(e);return{c(){s.c(),t=bt()},m(o,r){s.m(o,r),T(o,t,r)},p(o,r){l===(l=n(o))&&s?s.p(o,r):(s.d(1),s=l(o),s&&(s.c(),s.m(t.parentNode,t)))},d(o){o&&P(t),s.d(o)}}}function Zi(e){let t,n=e[24].cost+"",l;return{c(){t=x("Upgrade $"),l=x(n)},m(s,o){T(s,t,o),T(s,l,o)},p(s,o){o&4&&n!==(n=s[24].cost+"")&&F(l,n)},d(s){s&&(P(t),P(l))}}}function ea(e){let t,n=e[24].weeklyCost+"",l,s;return{c(){t=x("$"),l=x(n),s=x("/wk")},m(o,r){T(o,t,r),T(o,l,r),T(o,s,r)},p(o,r){r&4&&n!==(n=o[24].weeklyCost+"")&&F(l,n)},d(o){o&&(P(t),P(l),P(s))}}}function ps(e){let t,n,l=e[23].weeklyCost+"",s,o;return{c(){t=p("div"),n=x("Weekly cost: $"),s=x(l),o=x("/wk"),f(t,"class","text-xs text-warning")},m(r,a){T(r,t,a),i(t,n),i(t,s),i(t,o)},p(r,a){a&4&&l!==(l=r[23].weeklyCost+"")&&F(s,l)},d(r){r&&P(t)}}}function ms(e){let t,n;return{c(){t=p("div"),f(t,"class",n="w-3 h-3 rounded-full border-2 "+(e[30]<=e[22].level?"bg-accent border-accent":"border-textSecondary/30"))},m(l,s){T(l,t,s)},p(l,s){s&4&&n!==(n="w-3 h-3 rounded-full border-2 "+(l[30]<=l[22].level?"bg-accent border-accent":"border-textSecondary/30"))&&f(t,"class",n)},d(l){l&&P(t)}}}function hs(e){let t,n,l,s=e[22].name+"",o,r,a,c,u,_,d,h,m,g,y=e[23].description+"",b,w,k,M,I,N,S,C=e[22].level>0&&e[23]&&e[23].weeklyCost!==void 0&&e[23].weeklyCost>0&&ds(e);function A(z,q){return z[24]?Ki:Qi}let E=A(e),$=E(e);function B(){return e[11](e[24],e[25],e[22],e[26],e[27])}let W=e[23].weeklyCost&&e[23].weeklyCost>0&&ps(e),D=le(e[22].levels),j=[];for(let z=0;z<D.length;z+=1)j[z]=ms(as(e,D,z));return{c(){t=p("div"),n=p("div"),l=p("span"),o=x(s),r=v(),a=p("div"),C&&C.c(),c=v(),u=p("div"),_=p("button"),$.c(),m=v(),g=p("div"),b=x(y),w=v(),W&&W.c(),k=v(),M=p("div");for(let z=0;z<j.length;z+=1)j[z].c();I=v(),f(l,"class","text-lg font-semibold text-accent"),f(_,"class",d=`btn btn-xs ${e[24]&&(e[24].cost===0||e[25])?"bg-success/70 hover:bg-success text-textPrimary border-success/50":"bg-borderColor/30 text-error border-borderColor/40 cursor-not-allowed hover:bg-borderColor/30"}`),f(u,"class","tooltip tooltip-bottom"),f(u,"data-tip",h=e[24]?`${e[24].description}`:"Max level reached"),f(a,"class","flex gap-2"),f(n,"class","flex flex-row items-center justify-between gap-2 mb-3"),f(g,"class","text-sm text-textPrimary mb-2"),f(M,"class","flex items-center gap-1 mt-3"),f(t,"class","bg-cardBackground/40 border border-info/20 rounded-lg p-4 backdrop-blur-sm")},m(z,q){T(z,t,q),i(t,n),i(n,l),i(l,o),i(n,r),i(n,a),C&&C.m(a,null),i(a,c),i(a,u),i(u,_),$.m(_,null),i(t,m),i(t,g),i(g,b),i(t,w),W&&W.m(t,null),i(t,k),i(t,M);for(let L=0;L<j.length;L+=1)j[L]&&j[L].m(M,null);i(t,I),N||(S=X(_,"click",B),N=!0)},p(z,q){if(e=z,q&4&&s!==(s=e[22].name+"")&&F(o,s),e[22].level>0&&e[23]&&e[23].weeklyCost!==void 0&&e[23].weeklyCost>0?C?C.p(e,q):(C=ds(e),C.c(),C.m(a,c)):C&&(C.d(1),C=null),E===(E=A(e))&&$?$.p(e,q):($.d(1),$=E(e),$&&($.c(),$.m(_,null))),q&4&&d!==(d=`btn btn-xs ${e[24]&&(e[24].cost===0||e[25])?"bg-success/70 hover:bg-success text-textPrimary border-success/50":"bg-borderColor/30 text-error border-borderColor/40 cursor-not-allowed hover:bg-borderColor/30"}`)&&f(_,"class",d),q&4&&h!==(h=e[24]?`${e[24].description}`:"Max level reached")&&f(u,"data-tip",h),q&4&&y!==(y=e[23].description+"")&&F(b,y),e[23].weeklyCost&&e[23].weeklyCost>0?W?W.p(e,q):(W=ps(e),W.c(),W.m(t,k)):W&&(W.d(1),W=null),q&4){D=le(e[22].levels);let L;for(L=0;L<D.length;L+=1){const Z=as(e,D,L);j[L]?j[L].p(Z,q):(j[L]=ms(Z),j[L].c(),j[L].m(M,null))}for(;L<j.length;L+=1)j[L].d(1);j.length=D.length}},d(z){z&&P(t),C&&C.d(),$.d(),W&&W.d(),Ee(j,z),N=!1,S()}}}function _s(e){let t,n,l,s,o,r;return{c(){t=p("div"),n=p("p"),l=x(e[1]),f(n,"class","text-sm text-white"),f(t,"class","bg-error border border-warning/60 rounded-lg p-2 z-20 backdrop-blur-sm w-fit mt-2 mb-4 fixed bottom-4 left-4")},m(a,c){T(a,t,c),i(t,n),i(n,l),r=!0},p(a,c){(!r||c&2)&&F(l,a[1])},i(a){r||(a&&xt(()=>{r&&(o&&o.end(1),s=xl(t,Hn,{duration:500,easing:Dn,axis:"y"}),s.start())}),r=!0)},o(a){s&&s.invalidate(),a&&(o=fo(t,Hn,{duration:300,easing:Dn,axis:"y"})),r=!1},d(a){a&&P(t),a&&o&&o.end()}}}function ta(e){let t,n=e[16].customer+"",l,s;return{c(){t=p("span"),l=x(n),s=x(" is in line."),f(t,"class","text-textPrimary")},m(o,r){T(o,t,r),i(t,l),i(t,s)},p(o,r){r&4&&n!==(n=o[16].customer+"")&&F(l,n)},d(o){o&&P(t)}}}function na(e){let t,n=e[16].customer+"",l,s,o,r,a=le(jn(e[16].originalItems||e[16].items)),c=[];for(let u=0;u<a.length;u+=1)c[u]=gs(us(e,a,u));return{c(){t=p("span"),l=x(n),s=x(" wants"),o=v();for(let u=0;u<c.length;u+=1)c[u].c();r=bt(),f(t,"class","text-textPrimary")},m(u,_){T(u,t,_),i(t,l),i(t,s),T(u,o,_);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(u,_);T(u,r,_)},p(u,_){if(_&4&&n!==(n=u[16].customer+"")&&F(l,n),_&4){a=le(jn(u[16].originalItems||u[16].items));let d;for(d=0;d<a.length;d+=1){const h=us(u,a,d);c[d]?c[d].p(h,_):(c[d]=gs(h),c[d].c(),c[d].m(r.parentNode,r))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}},d(u){u&&(P(t),P(o),P(r)),Ee(c,u)}}}function gs(e){let t,n=e[19].quantity>1?`${e[19].quantity}x`:"",l,s,o=e[19].item.name+"",r,a=e[21]<jn(e[16].originalItems||e[16].items).length-1?",":"",c;return{c(){t=p("span"),l=x(n),s=v(),r=x(o),c=x(a),f(t,"class","font-semibold text-interactive")},m(u,_){T(u,t,_),i(t,l),i(t,s),i(t,r),i(t,c)},p(u,_){_&4&&n!==(n=u[19].quantity>1?`${u[19].quantity}x`:"")&&F(l,n),_&4&&o!==(o=u[19].item.name+"")&&F(r,o),_&4&&a!==(a=u[21]<jn(u[16].originalItems||u[16].items).length-1?",":"")&&F(c,a)},d(u){u&&P(t)}}}function bs(e){var d;let t,n=((d=e[2].staff.find(u))==null?void 0:d.name)+"",l,s,o=e[16].completion.toFixed(0)+"",r,a,c;function u(...h){return e[9](e[16],...h)}let _=(e[16].originalItems||e[16].items).length>1&&vs(e);return{c(){t=p("span"),l=x(n),s=x("'s on it! ("),r=x(o),a=x(`%)
							`),_&&_.c(),f(t,"class","text-sm bg-success/70 text-textPrimary px-2 ml-2 rounded-md transition-all duration-200")},m(h,m){T(h,t,m),i(t,l),i(t,s),i(t,r),i(t,a),_&&_.m(t,null)},p(h,m){var g;e=h,m&4&&n!==(n=((g=e[2].staff.find(u))==null?void 0:g.name)+"")&&F(l,n),m&4&&o!==(o=e[16].completion.toFixed(0)+"")&&F(r,o),(e[16].originalItems||e[16].items).length>1?_?_.p(e,m):(_=vs(e),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},i(h){h&&(c||xt(()=>{c=xl(t,Gi,{duration:300,delay:100}),c.start()}))},o:re,d(h){h&&P(t),_&&_.d()}}}function vs(e){let t,n,l=(e[16].originalItems||e[16].items).length-e[16].items.length+1+"",s,o,r=(e[16].originalItems||e[16].items).length+"",a,c;return{c(){t=p("span"),n=x("(item "),s=x(l),o=x(" of "),a=x(r),c=x(")"),f(t,"class","text-xs opacity-80")},m(u,_){T(u,t,_),i(t,n),i(t,s),i(t,o),i(t,a),i(t,c)},p(u,_){_&4&&l!==(l=(u[16].originalItems||u[16].items).length-u[16].items.length+1+"")&&F(s,l),_&4&&r!==(r=(u[16].originalItems||u[16].items).length+"")&&F(a,r)},d(u){u&&P(t)}}}function ys(e,t){var y;let n,l,s,o=(y=t[2].staff.find(u))==null?void 0:y.name,r,a,c;function u(...b){return t[5](t[16],...b)}function _(...b){return t[6](t[16],...b)}function d(b,w){var k;return w&4&&(l=null),l==null&&(l=!!((k=b[2].staff.find(_))!=null&&k.name)),l?na:ta}let h=d(t,-1),m=h(t),g=o&&bs(t);return{key:e,first:null,c(){n=p("div"),m.c(),s=v(),g&&g.c(),f(n,"class","flex text-lg flex-row gap-1 items-center p-3 pl-4 mb-4 w-fit pr-8 duration-200 border-l-2 backdrop-blur-sm shadow-lg"),this.first=n},m(b,w){T(b,n,w),m.m(n,null),i(n,s),g&&g.m(n,null),c=!0},p(b,w){var k;t=b,h===(h=d(t,w))&&m?m.p(t,w):(m.d(1),m=h(t),m&&(m.c(),m.m(n,s))),w&4&&(o=(k=t[2].staff.find(u))==null?void 0:k.name),o?g?(g.p(t,w),w&4&&J(g,1)):(g=bs(t),g.c(),J(g,1),g.m(n,null)):g&&(g.d(1),g=null)},i(b){c||(J(g),b&&xt(()=>{c&&(a&&a.end(1),r=xl(n,Hn,{duration:400,easing:Dn,delay:t[18]*100}),r.start())}),c=!0)},o(b){r&&r.invalidate(),b&&(a=fo(n,Hn,{duration:300,easing:Dn})),c=!1},d(b){b&&P(n),m.d(),g&&g.d(),b&&a&&a.end()}}}function xs(e){let t,n=e[2].orders.filter(Ss).length-10+"",l,s;return{c(){t=p("div"),l=x(n),s=x(" more orders..."),f(t,"class","text-sm text-gray-500 mt-2 text-center")},m(o,r){T(o,t,r),i(t,l),i(t,s)},p(o,r){r&4&&n!==(n=o[2].orders.filter(Ss).length-10+"")&&F(l,n)},d(o){o&&P(t)}}}function ws(e){let t,n,l,s,o=le(e[4]),r=[];for(let a=0;a<o.length;a+=1)r[a]=ks(os(e,o,a));return{c(){t=p("div"),n=p("h4"),n.textContent="Staff Feedback:",l=v(),s=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();f(n,"class","font-bold text-warning"),f(s,"class","list-disc list-inside text-textPrimary text-sm"),f(t,"class","mt-4 p-3 bg-warning/20 rounded-lg border border-warning/40")},m(a,c){T(a,t,c),i(t,n),i(t,l),i(t,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,null)},p(a,c){if(c&16){o=le(a[4]);let u;for(u=0;u<o.length;u+=1){const _=os(a,o,u);r[u]?r[u].p(_,c):(r[u]=ks(_),r[u].c(),r[u].m(s,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=o.length}},d(a){a&&P(t),Ee(r,a)}}}function ks(e){let t,n=e[13]+"",l;return{c(){t=p("li"),l=x(n)},m(s,o){T(s,t,o),i(t,l)},p(s,o){o&16&&n!==(n=s[13]+"")&&F(l,n)},d(s){s&&P(t)}}}function la(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y,b,w,k,M,I,N,S=Math.floor(e[2].stats.profitYesterday)>0?`$${Math.floor(e[2].stats.profitYesterday)}`:`-$${Math.floor(e[2].stats.profitYesterday)}`,C,A,E,$,B,W,D=(e[2].stats.popularityChange>0?`+${e[2].stats.popularityChange}`:e[2].stats.popularityChange)+"",j,z,q=e[2].popularity+"",L,Z,fe,de,ie,Q,H=(e[2].stats.ordersChange>0?`+${e[2].stats.ordersChange}`:e[2].stats.ordersChange)+"",G,ee,se=e[2].stats.totalOrders+"",pe,Je,we,qe,Pe,Ie,Oe=Math.floor(e[2].inventory.reduce(Es,0)*.1)+"",Te,ke,Ye,Ce,We,_e,Le,he,Me,ce;const Fe=[Xi,Vi],me=[];function be(U,K){return U[0]==="orders"?0:U[0]==="cafe"?1:-1}~(h=be(e))&&(m=me[h]=Fe[h](e));let R=e[4].length>0&&ws(e);return{c(){t=p("div"),n=p("div"),l=p("button"),s=x("Orders"),r=v(),a=p("button"),c=x("Café"),_=v(),d=p("div"),m&&m.c(),g=v(),y=p("dialog"),b=p("div"),w=p("h3"),w.textContent="New day!",k=v(),M=p("div"),I=p("p"),N=x("You made "),C=x(S),A=x(`
				yesterday.`),E=v(),$=p("p"),B=x(`Popularity:
				`),W=p("span"),j=x(D),z=x(`
				(`),L=x(q),Z=x(" total)"),fe=v(),de=p("p"),ie=x(`Orders completed:
				`),Q=p("span"),G=x(H),ee=x(`
				(`),pe=x(se),Je=x(" total)"),we=v(),R&&R.c(),qe=v(),Pe=p("div"),Ie=x("Some of your inventory has gone bad. You lost "),Te=x(Oe),ke=x(" items."),Ye=v(),Ce=p("div"),We=p("form"),_e=p("button"),_e.textContent="Close",f(l,"class",o="text-[64px] font-semibold transition-colors duration-200 "+(e[0]==="orders"?"text-accent":"text-textSecondary/50 hover:text-textSecondary")),f(a,"class",u="text-[64px] font-semibold transition-colors duration-200 "+(e[0]==="cafe"?"text-accent":"text-textSecondary/50 hover:text-textSecondary")),f(n,"class","flex items-center gap-8 mb-6 flex-shrink-0"),f(d,"class","flex-1 overflow-y-auto min-h-0"),f(t,"class","h-full bg-mainBackground text-textPrimary px-6 pt-1 flex flex-col"),f(t,"data-nux-id","orders-header"),f(w,"class","text-lg text-accent font-semibold"),f(I,"class","text-textPrimary"),f(W,"class","font-medium text-lightAccent"),f($,"class","text-sm text-textPrimary"),f(Q,"class","font-medium text-interactive"),f(de,"class","text-sm text-textPrimary"),f(M,"class","space-y-2"),f(Pe,"class","text-sm text-textPrimary"),f(_e,"class","btn bg-info/80 text-textPrimary hover:bg-info border-info/50"),f(We,"method","dialog"),f(Ce,"class","modal-action"),f(b,"class","modal-box bg-cardBackground/95 text-textPrimary border-2 border-info/60 backdrop-blur-md"),f(y,"id","endOfDayModal"),f(y,"class",Le="modal "+(e[3]?"modal-open":""))},m(U,K){T(U,t,K),i(t,n),i(n,l),i(l,s),i(n,r),i(n,a),i(a,c),i(t,_),i(t,d),~h&&me[h].m(d,null),T(U,g,K),T(U,y,K),i(y,b),i(b,w),i(b,k),i(b,M),i(M,I),i(I,N),i(I,C),i(I,A),i(M,E),i(M,$),i($,B),i($,W),i(W,j),i($,z),i($,L),i($,Z),i(M,fe),i(M,de),i(de,ie),i(de,Q),i(Q,G),i(de,ee),i(de,pe),i(de,Je),i(b,we),R&&R.m(b,null),i(b,qe),i(b,Pe),i(Pe,Ie),i(Pe,Te),i(Pe,ke),i(b,Ye),i(b,Ce),i(Ce,We),i(We,_e),he=!0,Me||(ce=[X(l,"click",e[7]),X(a,"click",e[8]),X(_e,"click",e[12])],Me=!0)},p(U,[K]){(!he||K&1&&o!==(o="text-[64px] font-semibold transition-colors duration-200 "+(U[0]==="orders"?"text-accent":"text-textSecondary/50 hover:text-textSecondary")))&&f(l,"class",o),(!he||K&1&&u!==(u="text-[64px] font-semibold transition-colors duration-200 "+(U[0]==="cafe"?"text-accent":"text-textSecondary/50 hover:text-textSecondary")))&&f(a,"class",u);let ve=h;h=be(U),h===ve?~h&&me[h].p(U,K):(m&&(ut(),ne(me[ve],1,1,()=>{me[ve]=null}),ft()),~h?(m=me[h],m?m.p(U,K):(m=me[h]=Fe[h](U),m.c()),J(m,1),m.m(d,null)):m=null),(!he||K&4)&&S!==(S=Math.floor(U[2].stats.profitYesterday)>0?`$${Math.floor(U[2].stats.profitYesterday)}`:`-$${Math.floor(U[2].stats.profitYesterday)}`)&&F(C,S),(!he||K&4)&&D!==(D=(U[2].stats.popularityChange>0?`+${U[2].stats.popularityChange}`:U[2].stats.popularityChange)+"")&&F(j,D),(!he||K&4)&&q!==(q=U[2].popularity+"")&&F(L,q),(!he||K&4)&&H!==(H=(U[2].stats.ordersChange>0?`+${U[2].stats.ordersChange}`:U[2].stats.ordersChange)+"")&&F(G,H),(!he||K&4)&&se!==(se=U[2].stats.totalOrders+"")&&F(pe,se),U[4].length>0?R?R.p(U,K):(R=ws(U),R.c(),R.m(b,qe)):R&&(R.d(1),R=null),(!he||K&4)&&Oe!==(Oe=Math.floor(U[2].inventory.reduce(Es,0)*.1)+"")&&F(Te,Oe),(!he||K&8&&Le!==(Le="modal "+(U[3]?"modal-open":"")))&&f(y,"class",Le)},i(U){he||(J(m),he=!0)},o(U){ne(m),he=!1},d(U){U&&(P(t),P(g),P(y)),~h&&me[h].d(),R&&R.d(),Me=!1,Re(ce)}}}function jn(e){if(!e)return[];const t=new Map;for(const n of e)t.has(n.name)?t.get(n.name).quantity++:t.set(n.name,{item:n,quantity:1});return Array.from(t.values())}const Cs=e=>e.items&&e.items.length>0,Ms=e=>e.items&&e.items.length>0,Ss=e=>e.items&&e.items.length>0,Es=(e,t)=>e+t.quantity;function sa(e,t,n){let l,s,o,r,a;return ae(e,nn,b=>n(0,l=b)),ae(e,Nn,b=>n(1,s=b)),ae(e,oe,b=>n(2,o=b)),ae(e,It,b=>n(3,r=b)),ae(e,Ln,b=>n(4,a=b)),[l,s,o,r,a,(b,w)=>w.currentOrder===b.id,(b,w)=>w.currentOrder===b.id,()=>nn.set("orders"),()=>nn.set("cafe"),(b,w)=>w.currentOrder===b.id,(b,w,k,M)=>{const I=b.levels[b.level-1];I&&(te(oe,o.vibe/=w.vibeEffect||1,o),I.vibeEffect>0&&te(oe,o.vibe*=I.vibeEffect,o),te(oe,k[M].level--,o))},(b,w,k,M,I)=>{b&&(b.cost===0||w)&&(te(oe,o.cash-=b.cost,o),te(oe,o.stats.expensesToday+=b.cost,o),b.vibeEffect>0&&te(oe,o.vibe*=b.vibeEffect,o),te(oe,M[I].level++,o))},()=>{It.set(!1),Ln.set([])}]}class ra extends ot{constructor(t){super(),rt(this,t,sa,la,nt,{})}}const oa="modulepreload",ia=function(e){return"/"+e},Ps={},aa=function(t,n,l){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=ia(c),c in Ps)return;Ps[c]=!0;const u=c.endsWith(".css"),_=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${_}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":oa,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return s.then(r=>{for(const a of r||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};let Gt=null,Ts=!1;function dl(){if(Se(It)||Se(ue))return;Ts||aa(async()=>{const{initializeBackgroundMusic:c}=await Promise.resolve().then(()=>Li);return{initializeBackgroundMusic:c}},void 0).then(({initializeBackgroundMusic:c})=>{c(),Ts=!0});let e=Se(oe);if(e.tick+=1,ca(e.tick),e.staff.length===0){e=bo(e),oe.set(e);return}e.totalDemand=Un(e.menu);const t=e.popularity/100,n=Math.max(.5,e.totalDemand/100);let s=.1*t*n*e.vibe;if(e.orders.length<3&&(s=.2),Math.random()<s){const c=gi();c&&e.orders.push(c)}const o=new Set(e.staff.map(c=>c.currentOrder).filter(Boolean)),r=e.staff.filter(c=>c.currentOrder===null),a=e.orders.filter(c=>c.completion<100&&!o.has(c.id));for(let c=0;c<Math.min(r.length,a.length);c++)r[c].currentOrder=a[c].id;if(a.forEach(c=>{c.ticksToComplete+=1}),e=ki(e),e.staff.forEach(c=>{if(c.currentOrder!==null){const u=e.orders.find(_=>_.id===c.currentOrder);u&&(u.ticksToComplete+=1,e=_i(u,e))}if(c.dailyWage>0){const u=bi(c);u>0&&console.log(c.name+" wants a raise of "+u)}}),e.tick%1e3===0){e=wi(e);const c=e.staff.reduce((m,g)=>m+g.dailyWage,0),u=e.managers.reduce((m,g)=>m+g.dailyWage,0),_=c+u;e.stats.popularityChange=e.popularity-e.stats.popularityYesterday,e.stats.ordersChange=e.stats.totalOrders-e.stats.ordersYesterday;const d=yo(e);e.stats.profitYesterday=e.stats.revenueToday-e.stats.expensesToday-_-d,e.stats.ordersYesterday=e.orders.filter(m=>m.completion>=100).length;const h=[];e.staff.forEach(m=>{if(m.dailyWage==0)return;m.dailyMenuItemsMade||(m.dailyMenuItemsMade=[]);const g=new Set(m.dailyMenuItemsMade).size,y=Math.floor(m.experience/100);if(g>=y)m.happiness+=.01;else{const b=y-g;m.happiness-=.005*b,h.push(`${m.name}: I am feeling under-challenged.`)}m.happiness=Math.max(0,Math.min(2,m.happiness))}),Ln.set(h),e.tick>5e3&&e.inventory.forEach(m=>{if(m.quantity>1){const g=Math.floor(m.quantity*.1);m.quantity-=g}}),e.managers.forEach(m=>{(m.trait===je.GENERAL||m.trait===je.FINANCIAL)&&(m.experience+=Math.floor(Math.random()*5))}),e.cash-=_,e.cash-=d,e.orders=[],e.staff.forEach(m=>{m.currentOrder=null,m.dailyMenuItemsMade=[]}),e.stats.popularityYesterday=e.popularity,e.stats.revenueToday=0,e.stats.expensesToday=0,e.stats.profitToday=0,e.stats.ordersToday=0,e.startingCash=e.cash,It.set(!0)}e.quests.forEach(c=>{const u=wl.find(_=>_.id===c.id);if(!c.completed&&u&&u.isCompleted&&u.isCompleted(e)&&!c.showingCompletion){c.showingCompletion=!0;const _=new Audio("/ding.mp3");_.volume=.5,_.play(),rn.set(!0),c.completionStartTick||(c.completionStartTick=e.tick)}c.showingCompletion&&c.completionStartTick&&e.tick-c.completionStartTick>=30&&(c.completed=!0,c.showingCompletion=!1,c.completionStartTick=void 0,e.cash+=c.reward.cash,e.popularity+=c.reward.popularity,rn.set(!1),u!=null&&u.onCompleted&&u.onCompleted(e))}),e.stats.profitToday=e.stats.revenueToday-e.stats.expensesToday,e=ua(e),oe.set(e)}function ca(e){e===1200&&alert("TIP: Employees have to make a drink a few dozen times before they are good at it. You can click on an employee to see their proficiency at each menu item. ")}function ua(e){return e.staff.forEach(t=>{t.experience=Math.round(Math.min(t.experience,1e3))}),e.popularity=Math.min(100,Math.max(0,e.popularity)),(e.totalDemand===void 0||e.totalDemand===null)&&(e.totalDemand=Un(e.menu)),e.cash=Math.round(e.cash),e.stats.ordersToday===void 0&&(e.stats.ordersToday=0),e.stats.profitToday=Math.round(e.stats.profitToday),e.stats.profitYesterday=Math.round(e.stats.profitYesterday),e.stats.revenueToday=Math.round(e.stats.revenueToday),e.stats.expensesToday=Math.round(e.stats.expensesToday),e.staff.forEach(t=>{t.happiness=Math.min(2,Math.max(.1,t.happiness))}),e}function fa(){dl(),Gt&&clearInterval(Gt),Gt=setInterval(dl,Se(yn)),yn.subscribe(e=>{Gt&&clearInterval(Gt),Gt=setInterval(dl,e)})}const da=e=>({}),$s=e=>({}),pa=e=>({}),Is=e=>({}),ma=e=>({}),qs=e=>({}),ha=e=>({}),As=e=>({});function Os(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y,b,w,k,M,I,N,S=e[3]&&Fs(e),C=e[2]&&Bs(e);const A=e[7].headerExtra,E=Vt(A,e,e[6],As),$=e[7].tabs,B=Vt($,e,e[6],qs),W=e[7].content,D=Vt(W,e,e[6],Is),j=e[7].footer,z=Vt(j,e,e[6],$s);return{c(){t=p("div"),n=p("div"),l=p("div"),s=p("div"),S&&S.c(),o=v(),r=p("div"),a=p("h1"),c=x(e[1]),u=v(),C&&C.c(),_=v(),d=p("div"),E&&E.c(),h=v(),m=p("button"),m.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
						Back to Game`,g=v(),B&&B.c(),y=v(),b=p("div"),w=p("div"),D&&D.c(),k=v(),z&&z.c(),f(a,"class","text-3xl font-bold text-accent"),f(s,"class","flex items-center gap-4"),f(m,"class","btn bg-special hover:bg-special/80 text-textPrimary border-special/50 gap-2 text-lg px-6 py-3"),f(d,"class","flex items-center gap-4"),f(l,"class","flex items-center justify-between max-w-7xl mx-auto"),f(n,"class","bg-gradient-to-r from-cardBackground to-modalBackground shadow-2xl px-8 py-6 border-b-2 border-accent/30"),f(w,"class","max-w-7xl mx-auto"),f(b,"class","flex-1 p-8 overflow-y-auto"),f(t,"class","fixed inset-0 bg-mainBackground z-50 flex flex-col")},m(q,L){T(q,t,L),i(t,n),i(n,l),i(l,s),S&&S.m(s,null),i(s,o),i(s,r),i(r,a),i(a,c),i(r,u),C&&C.m(r,null),i(l,_),i(l,d),E&&E.m(d,null),i(d,h),i(d,m),i(t,g),B&&B.m(t,null),i(t,y),i(t,b),i(b,w),D&&D.m(w,null),i(t,k),z&&z.m(t,null),M=!0,I||(N=X(m,"click",e[8]),I=!0)},p(q,L){q[3]?S?S.p(q,L):(S=Fs(q),S.c(),S.m(s,o)):S&&(S.d(1),S=null),(!M||L&2)&&F(c,q[1]),q[2]?C?C.p(q,L):(C=Bs(q),C.c(),C.m(r,null)):C&&(C.d(1),C=null),E&&E.p&&(!M||L&64)&&Qt(E,A,q,q[6],M?Xt(A,q[6],L,ha):Kt(q[6]),As),B&&B.p&&(!M||L&64)&&Qt(B,$,q,q[6],M?Xt($,q[6],L,ma):Kt(q[6]),qs),D&&D.p&&(!M||L&64)&&Qt(D,W,q,q[6],M?Xt(W,q[6],L,pa):Kt(q[6]),Is),z&&z.p&&(!M||L&64)&&Qt(z,j,q,q[6],M?Xt(j,q[6],L,da):Kt(q[6]),$s)},i(q){M||(J(E,q),J(B,q),J(D,q),J(z,q),M=!0)},o(q){ne(E,q),ne(B,q),ne(D,q),ne(z,q),M=!1},d(q){q&&P(t),S&&S.d(),C&&C.d(),E&&E.d(q),B&&B.d(q),D&&D.d(q),z&&z.d(q),I=!1,N()}}}function Fs(e){let t,n;return{c(){t=p("div"),n=x(e[3]),f(t,"class","text-5xl")},m(l,s){T(l,t,s),i(t,n)},p(l,s){s&8&&F(n,l[3])},d(l){l&&P(t)}}}function Bs(e){let t,n;return{c(){t=p("p"),n=x(e[2]),f(t,"class","text-textSecondary")},m(l,s){T(l,t,s),i(t,n)},p(l,s){s&4&&F(n,l[2])},d(l){l&&P(t)}}}function _a(e){let t,n,l=e[0]&&Os(e);return{c(){l&&l.c(),t=bt()},m(s,o){l&&l.m(s,o),T(s,t,o),n=!0},p(s,[o]){s[0]?l?(l.p(s,o),o&1&&J(l,1)):(l=Os(s),l.c(),J(l,1),l.m(t.parentNode,t)):l&&(ut(),ne(l,1,1,()=>{l=null}),ft())},i(s){n||(J(l),n=!0)},o(s){ne(l),n=!1},d(s){s&&P(t),l&&l.d(s)}}}function ga(e,t,n){let l;ae(e,ue,h=>n(5,l=h));let{$$slots:s={},$$scope:o}=t,{show:r=!1}=t,{title:a}=t,{subtitle:c=""}=t,{icon:u=""}=t,{onClose:_}=t;const d=()=>{te(ue,l=!1,l),_()};return e.$$set=h=>{"show"in h&&n(0,r=h.show),"title"in h&&n(1,a=h.title),"subtitle"in h&&n(2,c=h.subtitle),"icon"in h&&n(3,u=h.icon),"onClose"in h&&n(4,_=h.onClose),"$$scope"in h&&n(6,o=h.$$scope)},[r,a,c,u,_,l,o,s,d]}class Gn extends ot{constructor(t){super(),rt(this,t,ga,_a,nt,{show:0,title:1,subtitle:2,icon:3,onClose:4})}}function Ns(e,t,n){const l=e.slice();return l[9]=t[n],l}function Ls(e,t,n){const l=e.slice();return l[12]=t[n],l}function ba(e){let t,n,l,s,o=e[3].staff.length+"",r;return{c(){t=p("div"),n=p("div"),n.textContent="Current Staff",l=v(),s=p("div"),r=x(o),f(n,"class","text-sm text-textSecondary"),f(s,"class","text-xl font-bold text-interactive"),f(t,"slot","headerExtra"),f(t,"class","text-right")},m(a,c){T(a,t,c),i(t,n),i(t,l),i(t,s),i(s,r)},p(a,c){c&8&&o!==(o=a[3].staff.length+"")&&F(r,o)},d(a){a&&P(t)}}}function Ds(e){let t,n,l=e[12].name+"",s,o,r,a,c=e[12].experience+"",u,_,d,h,m,g=e[12].dailyWage+"",y,b,w,k,M=Rn(e[12].happiness,!0)+"",I,N,S,C,A,E;function $(){return e[6](e[12])}return{c(){t=p("tr"),n=p("td"),s=x(l),o=v(),r=p("td"),a=p("span"),u=x(c),_=x("xp"),d=v(),h=p("td"),m=x("$"),y=x(g),b=x("/day"),w=v(),k=p("td"),I=x(M),N=v(),S=p("td"),S.innerHTML='<button class="btn btn-xs bg-special hover:bg-special/80 text-textPrimary border-special/50">Hire</button>',C=v(),f(n,"class","py-2 px-2 font-medium text-textPrimary"),f(a,"class","bg-success/80 text-textPrimary text-xs font-medium px-2 py-1 rounded-full"),f(r,"class","py-2 px-2 text-center"),f(h,"class","py-2 px-2 text-center font-bold text-warning"),f(k,"class","py-2 px-2 text-center text-lightAccent"),f(S,"class","py-2 px-2 text-center"),f(t,"class","hover:bg-mainBackground/30 transition-colors cursor-pointer")},m(B,W){T(B,t,W),i(t,n),i(n,s),i(t,o),i(t,r),i(r,a),i(a,u),i(a,_),i(t,d),i(t,h),i(h,m),i(h,y),i(h,b),i(t,w),i(t,k),i(k,I),i(t,N),i(t,S),i(t,C),A||(E=X(t,"click",$),A=!0)},p(B,W){e=B,W&1&&l!==(l=e[12].name+"")&&F(s,l),W&1&&c!==(c=e[12].experience+"")&&F(u,c),W&1&&g!==(g=e[12].dailyWage+"")&&F(y,g),W&1&&M!==(M=Rn(e[12].happiness,!0)+"")&&F(I,M)},d(B){B&&P(t),A=!1,E()}}}function Hs(e){let t,n,l=e[9].name+"",s,o,r,a=e[9].trait+"",c,u,_,d,h=e[9].experience+"",m,g,y,b,w,k=e[9].dailyWage+"",M,I,N,S,C=Rn(e[9].happiness,!0)+"",A,E,$,B,W,D;function j(){return e[7](e[9])}return{c(){t=p("tr"),n=p("td"),s=x(l),o=v(),r=p("td"),c=x(a),u=v(),_=p("td"),d=p("span"),m=x(h),g=x("xp"),y=v(),b=p("td"),w=x("$"),M=x(k),I=x("/day"),N=v(),S=p("td"),A=x(C),E=v(),$=p("td"),$.innerHTML='<button class="btn btn-xs bg-special hover:bg-special/80 text-textPrimary border-special/50">Hire</button>',B=v(),f(n,"class","py-2 px-2 font-medium text-textPrimary"),f(r,"class","py-2 px-2 text-textSecondary text-xs"),f(d,"class","bg-success/80 text-textPrimary text-xs font-medium px-2 py-1 rounded-full"),f(_,"class","py-2 px-2 text-center"),f(b,"class","py-2 px-2 text-center font-bold text-warning"),f(S,"class","py-2 px-2 text-center text-lightAccent"),f($,"class","py-2 px-2 text-center"),f(t,"class","hover:bg-mainBackground/30 transition-colors cursor-pointer")},m(z,q){T(z,t,q),i(t,n),i(n,s),i(t,o),i(t,r),i(r,c),i(t,u),i(t,_),i(_,d),i(d,m),i(d,g),i(t,y),i(t,b),i(b,w),i(b,M),i(b,I),i(t,N),i(t,S),i(S,A),i(t,E),i(t,$),i(t,B),W||(D=X(t,"click",j),W=!0)},p(z,q){e=z,q&2&&l!==(l=e[9].name+"")&&F(s,l),q&2&&a!==(a=e[9].trait+"")&&F(c,a),q&2&&h!==(h=e[9].experience+"")&&F(m,h),q&2&&k!==(k=e[9].dailyWage+"")&&F(M,k),q&2&&C!==(C=Rn(e[9].happiness,!0)+"")&&F(A,C)},d(z){z&&P(t),W=!1,D()}}}function va(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y,b,w,k,M,I,N,S,C=le(e[0]),A=[];for(let B=0;B<C.length;B+=1)A[B]=Ds(Ls(e,C,B));let E=le(e[1]),$=[];for(let B=0;B<E.length;B+=1)$[B]=Hs(Ns(e,E,B));return{c(){t=p("div"),n=p("div"),l=p("div"),l.innerHTML='<div class="text-lg">🎯</div> <h2 class="text-lg font-bold text-lightAccent">Available Employees</h2>',s=v(),o=p("p"),o.textContent=`High XP employees want to work on more complex orders, but they move
				much faster overall.`,r=v(),a=p("div"),c=p("table"),u=p("thead"),u.innerHTML='<tr class="border-b border-borderColor/30"><th class="text-left py-2 px-2 font-medium text-textSecondary">Name</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Experience</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Daily Wage</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Happiness</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Action</th></tr>',_=v(),d=p("tbody");for(let B=0;B<A.length;B+=1)A[B].c();h=v(),m=p("div"),g=p("div"),g.innerHTML='<div class="text-lg">👔</div> <h2 class="text-lg font-bold text-lightAccent">Available Managers</h2>',y=v(),b=p("p"),b.textContent=`Managers provide special bonuses and can unlock new features based on
				their trait.`,w=v(),k=p("div"),M=p("table"),I=p("thead"),I.innerHTML='<tr class="border-b border-borderColor/30"><th class="text-left py-2 px-2 font-medium text-textSecondary">Name</th> <th class="text-left py-2 px-2 font-medium text-textSecondary">Trait</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Experience</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Daily Wage</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Happiness</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Action</th></tr>',N=v(),S=p("tbody");for(let B=0;B<$.length;B+=1)$[B].c();f(l,"class","flex items-center gap-2 mb-3"),f(o,"class","text-sm text-textSecondary mb-4"),f(d,"class","divide-y divide-borderColor/20"),f(c,"class","w-full text-sm"),f(a,"class","overflow-x-auto"),f(g,"class","flex items-center gap-2 mb-3"),f(b,"class","text-sm text-textSecondary mb-4"),f(S,"class","divide-y divide-borderColor/20"),f(M,"class","w-full text-sm"),f(k,"class","overflow-x-auto"),f(t,"slot","content"),f(t,"class","space-y-8"),f(t,"data-nux-id","hiring-intro")},m(B,W){T(B,t,W),i(t,n),i(n,l),i(n,s),i(n,o),i(n,r),i(n,a),i(a,c),i(c,u),i(c,_),i(c,d);for(let D=0;D<A.length;D+=1)A[D]&&A[D].m(d,null);i(t,h),i(t,m),i(m,g),i(m,y),i(m,b),i(m,w),i(m,k),i(k,M),i(M,I),i(M,N),i(M,S);for(let D=0;D<$.length;D+=1)$[D]&&$[D].m(S,null)},p(B,W){if(W&9){C=le(B[0]);let D;for(D=0;D<C.length;D+=1){const j=Ls(B,C,D);A[D]?A[D].p(j,W):(A[D]=Ds(j),A[D].c(),A[D].m(d,null))}for(;D<A.length;D+=1)A[D].d(1);A.length=C.length}if(W&10){E=le(B[1]);let D;for(D=0;D<E.length;D+=1){const j=Ns(B,E,D);$[D]?$[D].p(j,W):($[D]=Hs(j),$[D].c(),$[D].m(S,null))}for(;D<$.length;D+=1)$[D].d(1);$.length=E.length}},d(B){B&&P(t),Ee(A,B),Ee($,B)}}}function ya(e){let t,n,l,s,o,r,a,c,u,_;return{c(){t=p("div"),n=p("div"),l=p("div"),l.textContent="💡 Tip: Higher experience employees work faster but want variety!",s=v(),o=p("div"),r=p("button"),r.textContent="🔄 Find new Managers ($1000)",a=v(),c=p("button"),c.textContent="🔄 Find new Employees ($500)",f(l,"class","text-textSecondary text-xs"),f(r,"class","btn btn-secondary bg-interactive/80 hover:bg-interactive text-textPrimary border-interactive/50"),f(c,"class","btn btn-secondary bg-interactive/80 hover:bg-interactive text-textPrimary border-interactive/50"),f(o,"class","flex gap-3"),f(n,"class","flex justify-between items-center max-w-7xl mx-auto"),f(t,"slot","footer"),f(t,"class","border-t-2 border-accent/30 bg-gradient-to-r from-cardBackground/60 to-modalBackground/60 p-3 flex-shrink-0")},m(d,h){T(d,t,h),i(t,n),i(n,l),i(n,s),i(n,o),i(o,r),i(o,a),i(o,c),u||(_=[X(r,"click",e[4]),X(c,"click",e[5])],u=!0)},p:re,d(d){d&&P(t),u=!1,Re(_)}}}function xa(e){let t,n;return t=new Gn({props:{show:e[2],title:"Hire Staff",subtitle:"Build your dream team",icon:"👥",onClose:e[8],$$slots:{footer:[ya],content:[va],headerExtra:[ba]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(l,s){Be(t,l,s),n=!0},p(l,[s]){const o={};s&4&&(o.show=l[2]),s&4&&(o.onClose=l[8]),s&32779&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){n||(J(t.$$.fragment,l),n=!0)},o(l){ne(t.$$.fragment,l),n=!1},d(l){Ne(t,l)}}}function Rn(e,t=!0){return e?e>=1.2?t?"😍":"😍 Happy":e>=1?t?"🙂":"🙂 Fine":e>=.8?t?"🫤":"🫤 Iffy":e>=.5?t?"😡":"😡 Bad":t?"🤬":"🤬 Terrible":t?"🙂":"🙂 Fine"}function wa(e,t,n){let l,s;ae(e,at,h=>n(2,l=h)),ae(e,oe,h=>n(3,s=h));let o=Dl(),r=Hl();return[o,r,l,s,()=>{if(s.cash<1e3){alert("You do not have enough money");return}te(oe,s.cash-=1e3,s),n(1,r=Hl())},()=>{if(s.cash<500){alert("You do not have enough money");return}te(oe,s.cash-=500,s),n(0,o=Dl())},h=>{s.staff.push(h),n(0,o=o.filter(m=>m.name!==h.name))},h=>{s.managers.push(h),n(1,r=r.filter(m=>m.name!==h.name))},()=>te(at,l=!1,l)]}class ka extends ot{constructor(t){super(),rt(this,t,wa,xa,nt,{})}}function js(e,t,n){const l=e.slice();l[11]=t[n];const s=l[0].ownedEquipment.find(function(...a){return e[8](l[11],...a)});l[12]=s;const o=l[0].cash>=l[11].cost;return l[13]=o,l}function Rs(e,t,n){var r;const l=e.slice();l[16]=t[n],l[19]=t,l[20]=n;const s=l[12]&&l[12].upgrades&&((r=l[12].upgrades[l[20]])==null?void 0:r.purchased);l[17]=s;const o=l[0].cash>=l[16].cost;return l[18]=o,l}function Ys(e,t,n){var u;const l=e.slice();l[11]=t[n];const s=vn.find(function(...d){return e[3](l[11],...d)});l[21]=s;const o=!l[21]||l[0].ownedEquipment.some(function(...d){return e[4](l[21],...d)});l[22]=o;const r=((u=l[0].inventory.find(function(...d){return e[5](l[11],...d)}))==null?void 0:u.quantity)||0;l[23]=r;const a=l[0].cash>=l[11].cost;l[13]=a;const c=l[13]&&l[22];return l[24]=c,l}function Ca(e){let t,n,l,s,o,r=e[0].cash+"",a;return{c(){t=p("div"),n=p("div"),n.textContent="Available Cash",l=v(),s=p("div"),o=x("💰 $"),a=x(r),f(n,"class","text-xs text-textSecondary mb-1"),f(s,"class","text-lg font-bold text-success flex items-center gap-2"),f(t,"slot","headerExtra"),f(t,"class","bg-gradient-to-br from-success/20 to-success/10 border border-success/40 rounded-lg p-3")},m(c,u){T(c,t,u),i(t,n),i(t,l),i(t,s),i(s,o),i(s,a)},p(c,u){u&1&&r!==(r=c[0].cash+"")&&F(a,r)},d(c){c&&P(t)}}}function Ma(e){let t;return{c(){t=p("span"),t.textContent="-",f(t,"class","text-textSecondary text-xs")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Sa(e){let t,n,l=e[23]+"",s;return{c(){t=p("span"),n=x("📦 "),s=x(l),f(t,"class","bg-accent/20 text-accent px-2 py-1 rounded text-xs")},m(o,r){T(o,t,r),i(t,n),i(t,s)},p(o,r){r&1&&l!==(l=o[23]+"")&&F(s,l)},d(o){o&&P(t)}}}function Ea(e){let t;return{c(){t=p("div"),t.textContent="Need equip",f(t,"class","text-warning text-xs")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Pa(e){let t,n,l;function s(){return e[2](e[11])}return{c(){t=p("button"),t.textContent="Buy",f(t,"class","btn btn-xs bg-special hover:bg-special/80 text-textPrimary border-special/50 px-3 py-1")},m(o,r){T(o,t,r),n||(l=X(t,"click",s),n=!0)},p(o,r){e=o},d(o){o&&P(t),n=!1,l()}}}function Ta(e){let t;return{c(){t=p("div"),t.textContent=`⚠️ ${e[21].name}`,f(t,"class","text-warning text-xs")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Ws(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g=e[11].cost+"",y,b,w,k,M;function I($,B){return $[23]>0?Sa:Ma}let N=I(e),S=N(e);function C($,B){if(!$[22]&&$[21])return Ta;if($[24])return Pa;if(!$[22])return Ea}let A=C(e),E=A&&A(e);return{c(){t=p("tr"),n=p("td"),n.textContent=`${e[11].name}`,l=v(),s=p("td"),s.textContent=`${e[11].description}`,o=v(),r=p("td"),S.c(),a=v(),c=p("td"),u=p("span"),u.textContent=`+${e[11].quantity}`,_=v(),d=p("td"),h=p("span"),m=x("$"),y=x(g),w=v(),k=p("td"),E&&E.c(),M=v(),f(n,"class","py-2 px-2 font-medium text-textPrimary"),f(s,"class","py-2 px-2 text-textSecondary max-w-xs truncate"),f(r,"class","py-2 px-2 text-center"),f(u,"class","bg-success/20 text-success px-2 py-1 rounded text-xs"),f(c,"class","py-2 px-2 text-center"),f(h,"class",b="font-bold "+(e[13]?"text-success":"text-error")),f(d,"class","py-2 px-2 text-center"),f(k,"class","py-2 px-2 text-center"),f(t,"class","hover:bg-mainBackground/30 transition-colors"),f(t,"data-nux-id",e[11].name.includes("Grounds")?"buy-grounds":"")},m($,B){T($,t,B),i(t,n),i(t,l),i(t,s),i(t,o),i(t,r),S.m(r,null),i(t,a),i(t,c),i(c,u),i(t,_),i(t,d),i(d,h),i(h,m),i(h,y),i(t,w),i(t,k),E&&E.m(k,null),i(t,M)},p($,B){N===(N=I($))&&S?S.p($,B):(S.d(1),S=N($),S&&(S.c(),S.m(r,null))),B&1&&b!==(b="font-bold "+($[13]?"text-success":"text-error"))&&f(h,"class",b),A===(A=C($))&&E?E.p($,B):(E&&E.d(1),E=A&&A($),E&&(E.c(),E.m(k,null)))},d($){$&&P(t),S.d(),E&&E.d()}}}function $a(e){let t;return{c(){t=p("span"),t.textContent="-",f(t,"class","text-textSecondary text-xs")},m(n,l){T(n,t,l)},d(n){n&&P(t)}}}function Ia(e){let t;return{c(){t=p("span"),t.textContent="✓ Owned",f(t,"class","bg-success/20 text-success px-2 py-1 rounded text-xs")},m(n,l){T(n,t,l)},d(n){n&&P(t)}}}function zs(e){let t,n=e[13]&&Us(e);return{c(){n&&n.c(),t=bt()},m(l,s){n&&n.m(l,s),T(l,t,s)},p(l,s){l[13]?n?n.p(l,s):(n=Us(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&P(t),n&&n.d(l)}}}function Us(e){let t,n,l;function s(){return e[6](e[11])}return{c(){t=p("button"),t.textContent="Buy",f(t,"class","btn btn-xs bg-special hover:bg-special/80 text-textPrimary border-special/50 px-3 py-1")},m(o,r){T(o,t,r),n||(l=X(t,"click",s),n=!0)},p(o,r){e=o},d(o){o&&P(t),n=!1,l()}}}function qa(e){let t,n=le(e[11].upgrades),l=[];for(let s=0;s<n.length;s+=1)l[s]=Js(Rs(e,n,s));return{c(){t=p("div");for(let s=0;s<l.length;s+=1)l[s].c();f(t,"class","space-y-1")},m(s,o){T(s,t,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(s,o){if(o&1){n=le(s[11].upgrades);let r;for(r=0;r<n.length;r+=1){const a=Rs(s,n,r);l[r]?l[r].p(a,o):(l[r]=Js(a),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&P(t),Ee(l,s)}}}function Gs(e){let t,n,l=e[16].cost+"",s,o;return{c(){t=p("div"),n=x("$"),s=x(l),f(t,"class",o="text-xs "+(e[18]?"text-success":"text-error"))},m(r,a){T(r,t,a),i(t,n),i(t,s)},p(r,a){a&1&&o!==(o="text-xs "+(r[18]?"text-success":"text-error"))&&f(t,"class",o)},d(r){r&&P(t)}}}function Aa(e){let t;return{c(){t=p("span"),t.textContent="-",f(t,"class","text-textSecondary text-xs opacity-60")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Oa(e){let t,n=(e[18],"Buy"),l,s,o,r;function a(){return e[7](e[18],e[12],e[11],e[20])}return{c(){t=p("button"),l=x(n),f(t,"class",s="btn btn-xs "+(e[18]?"bg-info hover:bg-info/80 text-textPrimary border-info/50":"bg-borderColor/50 text-textSecondary cursor-not-allowed border-borderColor/30 opacity-50")+" px-2 py-0.5 text-xs")},m(c,u){T(c,t,u),i(t,l),o||(r=X(t,"click",a),o=!0)},p(c,u){e=c,u&1&&n!==(n=(e[18],"Buy"))&&F(l,n),u&1&&s!==(s="btn btn-xs "+(e[18]?"bg-info hover:bg-info/80 text-textPrimary border-info/50":"bg-borderColor/50 text-textSecondary cursor-not-allowed border-borderColor/30 opacity-50")+" px-2 py-0.5 text-xs")&&f(t,"class",s)},d(c){c&&P(t),o=!1,r()}}}function Fa(e){let t;return{c(){t=p("span"),t.textContent="✓",f(t,"class","bg-success/20 text-success px-1.5 py-0.5 rounded text-xs")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Js(e){let t,n,l,s=e[16].description+"",o,r,a,c,u,_,d=!e[17]&&e[12]&&Gs(e);function h(y,b){return y[17]?Fa:y[12]?Oa:Aa}let m=h(e),g=m(e);return{c(){t=p("div"),n=p("div"),l=p("div"),o=x(s),a=v(),d&&d.c(),c=v(),g.c(),u=v(),f(l,"class",r="text-xs "+(e[17]?"text-success":e[12]?"text-lightAccent":"text-textSecondary")+" truncate"),f(n,"class","flex-1 min-w-0"),f(t,"class",_="flex items-center justify-between "+(e[12]?"bg-mainBackground/60 border border-info/30 rounded p-1.5":"opacity-40")+" transition-opacity")},m(y,b){T(y,t,b),i(t,n),i(n,l),i(l,o),i(n,a),d&&d.m(n,null),i(t,c),g.m(t,null),i(t,u)},p(y,b){b&1&&r!==(r="text-xs "+(y[17]?"text-success":y[12]?"text-lightAccent":"text-textSecondary")+" truncate")&&f(l,"class",r),!y[17]&&y[12]?d?d.p(y,b):(d=Gs(y),d.c(),d.m(n,null)):d&&(d.d(1),d=null),m===(m=h(y))&&g?g.p(y,b):(g.d(1),g=m(y),g&&(g.c(),g.m(t,u))),b&1&&_!==(_="flex items-center justify-between "+(y[12]?"bg-mainBackground/60 border border-info/30 rounded p-1.5":"opacity-40")+" transition-opacity")&&f(t,"class",_)},d(y){y&&P(t),d&&d.d(),g.d()}}}function Vs(e){let t,n,l,s,o,r,a,c,u=e[11].cost+"",_,d,h,m,g,y,b;function w(S,C){return S[12]?Ia:$a}let k=w(e),M=k(e),I=!e[12]&&zs(e),N=e[11].upgrades&&e[11].upgrades.length>0&&qa(e);return{c(){t=p("tr"),n=p("td"),n.textContent=`${e[11].name}`,l=v(),s=p("td"),M.c(),o=v(),r=p("td"),a=p("span"),c=x("$"),_=x(u),h=v(),m=p("td"),I&&I.c(),g=v(),y=p("td"),N&&N.c(),b=v(),f(n,"class","py-2 px-2 font-medium text-textPrimary"),f(s,"class","py-2 px-2 text-center"),f(a,"class",d="font-bold "+(e[13]?"text-success":"text-error")),f(r,"class","py-2 px-2 text-center"),f(m,"class","py-2 px-2 text-center"),f(y,"class","py-2 px-2"),f(t,"class","hover:bg-mainBackground/30 transition-colors")},m(S,C){T(S,t,C),i(t,n),i(t,l),i(t,s),M.m(s,null),i(t,o),i(t,r),i(r,a),i(a,c),i(a,_),i(t,h),i(t,m),I&&I.m(m,null),i(t,g),i(t,y),N&&N.m(y,null),i(t,b)},p(S,C){k!==(k=w(S))&&(M.d(1),M=k(S),M&&(M.c(),M.m(s,null))),C&1&&d!==(d="font-bold "+(S[13]?"text-success":"text-error"))&&f(a,"class",d),S[12]?I&&(I.d(1),I=null):I?I.p(S,C):(I=zs(S),I.c(),I.m(m,null)),S[11].upgrades&&S[11].upgrades.length>0&&N.p(S,C)},d(S){S&&P(t),M.d(),I&&I.d(),N&&N.d()}}}function Ba(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y,b,w,k,M=le(sn),I=[];for(let C=0;C<M.length;C+=1)I[C]=Ws(Ys(e,M,C));let N=le(vn),S=[];for(let C=0;C<N.length;C+=1)S[C]=Vs(js(e,N,C));return{c(){t=p("div"),n=p("div"),l=p("div"),l.innerHTML='<div class="text-lg">🧂</div> <h2 class="text-lg font-bold text-accent">Ingredients</h2>',s=v(),o=p("div"),r=p("table"),a=p("thead"),a.innerHTML='<tr class="border-b border-borderColor/30"><th class="text-left py-2 px-2 font-medium text-textSecondary">Item</th> <th class="text-left py-2 px-2 font-medium text-textSecondary">Description</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Stock</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Quantity</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Price</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Action</th></tr>',c=v(),u=p("tbody");for(let C=0;C<I.length;C+=1)I[C].c();_=v(),d=p("div"),h=p("div"),h.innerHTML='<div class="text-lg">🔧</div> <h2 class="text-lg font-bold text-accent">Equipment</h2>',m=v(),g=p("div"),y=p("table"),b=p("thead"),b.innerHTML='<tr class="border-b border-borderColor/30"><th class="text-left py-2 px-2 font-medium text-textSecondary">Equipment</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Status</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Price</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Action</th> <th class="text-left py-2 px-2 font-medium text-textSecondary">Available upgrades</th></tr>',w=v(),k=p("tbody");for(let C=0;C<S.length;C+=1)S[C].c();f(l,"class","flex items-center gap-2 mb-3"),f(u,"class","divide-y divide-borderColor/20"),f(r,"class","w-full text-sm"),f(o,"class","overflow-x-auto"),f(h,"class","flex items-center gap-2 mb-3"),f(k,"class","divide-y divide-borderColor/20"),f(y,"class","w-full text-sm"),f(g,"class","overflow-x-auto"),f(t,"slot","content"),f(t,"class","space-y-10")},m(C,A){T(C,t,A),i(t,n),i(n,l),i(n,s),i(n,o),i(o,r),i(r,a),i(r,c),i(r,u);for(let E=0;E<I.length;E+=1)I[E]&&I[E].m(u,null);i(t,_),i(t,d),i(d,h),i(d,m),i(d,g),i(g,y),i(y,b),i(y,w),i(y,k);for(let E=0;E<S.length;E+=1)S[E]&&S[E].m(k,null)},p(C,A){if(A&1){M=le(sn);let E;for(E=0;E<M.length;E+=1){const $=Ys(C,M,E);I[E]?I[E].p($,A):(I[E]=Ws($),I[E].c(),I[E].m(u,null))}for(;E<I.length;E+=1)I[E].d(1);I.length=M.length}if(A&1){N=le(vn);let E;for(E=0;E<N.length;E+=1){const $=js(C,N,E);S[E]?S[E].p($,A):(S[E]=Vs($),S[E].c(),S[E].m(k,null))}for(;E<S.length;E+=1)S[E].d(1);S.length=N.length}},d(C){C&&P(t),Ee(I,C),Ee(S,C)}}}function Na(e){let t,n;return t=new Gn({props:{show:e[1],title:"Shop",subtitle:"Purchase items and equipment",icon:"🛒",onClose:e[9],$$slots:{content:[Ba],headerExtra:[Ca]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(l,s){Be(t,l,s),n=!0},p(l,[s]){const o={};s&2&&(o.show=l[1]),s&2&&(o.onClose=l[9]),s&134217729&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){n||(J(t.$$.fragment,l),n=!0)},o(l){ne(t.$$.fragment,l),n=!1},d(l){Ne(t,l)}}}function La(e,t,n){let l,s;return ae(e,oe,m=>n(0,l=m)),ae(e,st,m=>n(1,s=m)),[l,s,m=>{vo(m.name,m.quantity,m.cost,m.description)||alert("Purchase failed")},(m,g)=>{var y;return(y=m.requires)==null?void 0:y.includes(g.name)},(m,g)=>g.name===m.name,(m,g)=>g.name===m.name,m=>{te(oe,l.cash-=m.cost,l),te(oe,l.stats.expensesToday+=m.cost,l),te(oe,l.ownedEquipment=[...l.ownedEquipment,{name:m.name,quality:m.quality,durability:m.durability,failureChance:m.failureChance,cost:m.cost,upgrades:JSON.parse(JSON.stringify(m.upgrades))}],l)},(m,g,y,b)=>{if(m&&g){const w=l.ownedEquipment.find(k=>k.name===y.name);if(w&&w.upgrades){const k=w.upgrades[b];!k.purchased&&l.cash>=k.cost&&(te(oe,l.cash-=k.cost,l),te(oe,l.stats.expensesToday+=k.cost,l),k.purchased=!0,oe.set(l))}}},(m,g)=>g.name===m.name,()=>te(st,s=!1,s)]}class Da extends ot{constructor(t){super(),rt(this,t,La,Na,nt,{})}}function Xs(e,t,n){const l=e.slice();l[8]=t[n];const s=l[8].requires?l[8].requires.filter(o=>!l[0].ownedEquipment.some(r=>r.name===o)):[];return l[9]=s,l}function Qs(e,t,n){const l=e.slice();l[8]=t[n];const s=Object.entries(l[8].ingredients).filter(([o,r])=>{const a=l[0].inventory.find(c=>c.name===o);return!a||a.quantity<r});return l[12]=s,l}function Ks(e,t,n){const l=e.slice();return l[15]=t[n],l}function Ha(e){let t;return{c(){t=p("div"),t.innerHTML='<div class="text-6xl mb-4">🍽️</div> <h2 class="text-2xl font-bold text-warning mb-2">Your menu is empty!</h2> <p class="text-textSecondary">Add some delicious items to get started</p>',f(t,"class","bg-gradient-to-br from-warning/20 to-warning/10 border-2 border-warning/40 rounded-xl p-8 text-center")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function ja(e){let t,n,l,s,o,r,a,c,u=le(e[0].menu),_=[];for(let d=0;d<u.length;d+=1)_[d]=Zs(Ks(e,u,d));return{c(){t=p("div"),n=p("div"),n.innerHTML='<div class="text-lg">✨</div> <h2 class="text-lg font-bold text-success">Active Menu Items</h2>',l=v(),s=p("div"),o=p("table"),r=p("thead"),r.innerHTML='<tr class="border-b border-borderColor/30"><th class="text-left py-2 px-2 font-medium text-textSecondary">Item</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Price</th> <th class="text-center py-2 px-2 font-medium text-textSecondary w-24">Action</th></tr>',a=v(),c=p("tbody");for(let d=0;d<_.length;d+=1)_[d].c();f(n,"class","flex items-center gap-2 mb-3"),f(c,"class","divide-y divide-borderColor/20"),f(o,"class","w-full text-sm"),f(s,"class","overflow-x-auto")},m(d,h){T(d,t,h),i(t,n),i(t,l),i(t,s),i(s,o),i(o,r),i(o,a),i(o,c);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(c,null)},p(d,h){if(h&1){u=le(d[0].menu);let m;for(m=0;m<u.length;m+=1){const g=Ks(d,u,m);_[m]?_[m].p(g,h):(_[m]=Zs(g),_[m].c(),_[m].m(c,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=u.length}},d(d){d&&P(t),Ee(_,d)}}}function Zs(e){let t,n,l=e[15].name+"",s,o,r,a,c,u=e[15].price+"",_,d,h,m,g,y,b;function w(){return e[5](e[15])}return{c(){t=p("tr"),n=p("td"),s=x(l),o=v(),r=p("td"),a=p("span"),c=x("$"),_=x(u),d=v(),h=p("td"),m=p("button"),m.textContent="Remove",g=v(),f(n,"class","py-2 px-2 font-medium text-textPrimary"),f(a,"class","bg-success/80 text-textPrimary px-3 py-1 rounded-full font-bold text-xs"),f(r,"class","py-2 px-2 text-center"),f(m,"class","btn btn-xs bg-error hover:bg-error/80 text-textPrimary border-error/50 w-28"),f(h,"class","py-2 px-2 text-center w-24"),f(t,"class","hover:bg-mainBackground/30 transition-colors")},m(k,M){T(k,t,M),i(t,n),i(n,s),i(t,o),i(t,r),i(r,a),i(a,c),i(a,_),i(t,d),i(t,h),i(h,m),i(t,g),y||(b=X(m,"click",w),y=!0)},p(k,M){e=k,M&1&&l!==(l=e[15].name+"")&&F(s,l),M&1&&u!==(u=e[15].price+"")&&F(_,u)},d(k){k&&P(t),y=!1,b()}}}function er(e){let t,n,l,s,o,r,a,c,u=le(e[2]),_=[];for(let d=0;d<u.length;d+=1)_[d]=tr(Qs(e,u,d));return{c(){t=p("div"),n=p("div"),n.innerHTML='<div class="text-lg">🎯</div> <h2 class="text-lg font-bold text-accent">Available Recipes</h2>',l=v(),s=p("div"),o=p("table"),r=p("thead"),r.innerHTML='<tr class="border-b border-borderColor/30"><th class="text-left py-2 px-2 font-medium text-textSecondary">Item</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Price</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Ingredients Status</th> <th class="text-center py-2 px-2 font-medium text-textSecondary w-24">Action</th></tr>',a=v(),c=p("tbody");for(let d=0;d<_.length;d+=1)_[d].c();f(n,"class","flex items-center gap-2 mb-3"),f(c,"class","divide-y divide-borderColor/20"),f(o,"class","w-full text-sm"),f(s,"class","overflow-x-auto")},m(d,h){T(d,t,h),i(t,n),i(t,l),i(t,s),i(s,o),i(o,r),i(o,a),i(o,c);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(c,null)},p(d,h){if(h&5){u=le(d[2]);let m;for(m=0;m<u.length;m+=1){const g=Qs(d,u,m);_[m]?_[m].p(g,h):(_[m]=tr(g),_[m].c(),_[m].m(c,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=u.length}},d(d){d&&P(t),Ee(_,d)}}}function Ra(e){let t;return{c(){t=p("span"),t.textContent="✓ Ready",f(t,"class","bg-success/20 text-success px-2 py-1 rounded text-xs")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Ya(e){let t,n,l=e[12].map(or)+"",s,o;return{c(){t=p("div"),n=x("⚠️ "),s=x(l),o=x(`
												missing`),f(t,"class","text-xs text-warning")},m(r,a){T(r,t,a),i(t,n),i(t,s),i(t,o)},p(r,a){a&5&&l!==(l=r[12].map(or)+"")&&F(s,l)},d(r){r&&P(t)}}}function tr(e){let t,n,l=e[8].name+"",s,o,r,a,c,u=e[8].price+"",_,d,h,m,g,y,b,w,k,M;function I(A,E){return A[12].length>0?Ya:Ra}let N=I(e),S=N(e);function C(){return e[6](e[8])}return{c(){t=p("tr"),n=p("td"),s=x(l),o=v(),r=p("td"),a=p("span"),c=x("$"),_=x(u),d=v(),h=p("td"),S.c(),m=v(),g=p("td"),y=p("button"),y.textContent="Add to Menu",b=v(),f(n,"class","py-2 px-2 font-medium text-textPrimary"),f(a,"class","bg-accent/80 text-mainBackground px-3 py-1 rounded-full font-bold text-xs"),f(r,"class","py-2 px-2 text-center"),f(h,"class","py-2 px-2 text-center"),f(y,"class","btn btn-xs bg-special hover:bg-special/80 text-textPrimary border-special/50 w-26"),f(g,"class","py-2 px-2 text-center w-32"),f(t,"class","hover:bg-mainBackground/30 transition-colors"),f(t,"data-nux-id",w=e[8].name==="☕️ Drip coffee"?"add-drip":"")},m(A,E){T(A,t,E),i(t,n),i(n,s),i(t,o),i(t,r),i(r,a),i(a,c),i(a,_),i(t,d),i(t,h),S.m(h,null),i(t,m),i(t,g),i(g,y),i(t,b),k||(M=X(y,"click",C),k=!0)},p(A,E){e=A,E&4&&l!==(l=e[8].name+"")&&F(s,l),E&4&&u!==(u=e[8].price+"")&&F(_,u),N===(N=I(e))&&S?S.p(e,E):(S.d(1),S=N(e),S&&(S.c(),S.m(h,null))),E&4&&w!==(w=e[8].name==="☕️ Drip coffee"?"add-drip":"")&&f(t,"data-nux-id",w)},d(A){A&&P(t),S.d(),k=!1,M()}}}function nr(e){let t,n,l,s,o,r,a,c,u=le(e[1]),_=[];for(let d=0;d<u.length;d+=1)_[d]=rr(Xs(e,u,d));return{c(){t=p("div"),n=p("div"),n.innerHTML='<div class="text-lg">🔒</div> <h2 class="text-lg font-bold text-textSecondary">Locked Recipes</h2>',l=v(),s=p("div"),o=p("table"),r=p("thead"),r.innerHTML='<tr class="border-b border-borderColor/30"><th class="text-left py-2 px-2 font-medium text-textSecondary">Item</th> <th class="text-center py-2 px-2 font-medium text-textSecondary">Price</th> <th class="text-left py-2 px-2 font-medium text-textSecondary">Missing Equipment</th> <th class="text-center py-2 px-2 font-medium text-textSecondary w-28">Status</th></tr>',a=v(),c=p("tbody");for(let d=0;d<_.length;d+=1)_[d].c();f(n,"class","flex items-center gap-2 mb-3"),f(c,"class","divide-y divide-borderColor/20"),f(o,"class","w-full text-sm"),f(s,"class","overflow-x-auto")},m(d,h){T(d,t,h),i(t,n),i(t,l),i(t,s),i(s,o),i(o,r),i(o,a),i(o,c);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(c,null)},p(d,h){if(h&3){u=le(d[1]);let m;for(m=0;m<u.length;m+=1){const g=Xs(d,u,m);_[m]?_[m].p(g,h):(_[m]=rr(g),_[m].c(),_[m].m(c,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=u.length}},d(d){d&&P(t),Ee(_,d)}}}function lr(e){let t,n=e[9].slice(0,3).join(", ")+"",l,s,o=e[9].length>3&&sr(e);return{c(){t=p("div"),l=x(n),s=v(),o&&o.c(),f(t,"class","text-xs")},m(r,a){T(r,t,a),i(t,l),i(t,s),o&&o.m(t,null)},p(r,a){a&3&&n!==(n=r[9].slice(0,3).join(", ")+"")&&F(l,n),r[9].length>3?o?o.p(r,a):(o=sr(r),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(r){r&&P(t),o&&o.d()}}}function sr(e){let t,n=e[9].length-3+"",l,s;return{c(){t=x("+"),l=x(n),s=x(" more")},m(o,r){T(o,t,r),T(o,l,r),T(o,s,r)},p(o,r){r&3&&n!==(n=o[9].length-3+"")&&F(l,n)},d(o){o&&(P(t),P(l),P(s))}}}function rr(e){let t,n,l=e[8].name+"",s,o,r,a,c,u=e[8].price+"",_,d,h,m,g,y,b=e[9].length>0&&lr(e);return{c(){t=p("tr"),n=p("td"),s=x(l),o=v(),r=p("td"),a=p("span"),c=x("$"),_=x(u),d=v(),h=p("td"),b&&b.c(),m=v(),g=p("td"),g.innerHTML='<span class="bg-borderColor/50 text-textSecondary px-2 py-1 rounded text-xs w-24 inline-block">🔒 Locked</span>',y=v(),f(n,"class","py-2 px-2 font-medium text-textSecondary"),f(a,"class","bg-borderColor text-textSecondary px-3 py-1 rounded-full font-bold text-xs"),f(r,"class","py-2 px-2 text-center"),f(h,"class","py-2 px-2 text-textSecondary"),f(g,"class","py-2 px-2 text-center w-24"),f(t,"class","hover:bg-mainBackground/30 transition-colors opacity-60")},m(w,k){T(w,t,k),i(t,n),i(n,s),i(t,o),i(t,r),i(r,a),i(a,c),i(a,_),i(t,d),i(t,h),b&&b.m(h,null),i(t,m),i(t,g),i(t,y)},p(w,k){k&2&&l!==(l=w[8].name+"")&&F(s,l),k&2&&u!==(u=w[8].price+"")&&F(_,u),w[9].length>0?b?b.p(w,k):(b=lr(w),b.c(),b.m(h,null)):b&&(b.d(1),b=null)},d(w){w&&P(t),b&&b.d()}}}function Wa(e){let t,n,l;function s(u,_){return u[0].menu.length>0?ja:Ha}let o=s(e),r=o(e),a=e[2].length>0&&er(e),c=e[1].length>0&&nr(e);return{c(){t=p("div"),r.c(),n=v(),a&&a.c(),l=v(),c&&c.c(),f(t,"slot","content"),f(t,"class","space-y-12")},m(u,_){T(u,t,_),r.m(t,null),i(t,n),a&&a.m(t,null),i(t,l),c&&c.m(t,null)},p(u,_){o===(o=s(u))&&r?r.p(u,_):(r.d(1),r=o(u),r&&(r.c(),r.m(t,n))),u[2].length>0?a?a.p(u,_):(a=er(u),a.c(),a.m(t,l)):a&&(a.d(1),a=null),u[1].length>0?c?c.p(u,_):(c=nr(u),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d(u){u&&P(t),r.d(),a&&a.d(),c&&c.d()}}}function za(e){let t,n;return t=new Gn({props:{show:e[3],title:"Menu",icon:"🍽️",onClose:e[7],$$slots:{content:[Wa]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(l,s){Be(t,l,s),n=!0},p(l,[s]){const o={};s&8&&(o.show=l[3]),s&8&&(o.onClose=l[7]),s&262151&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){n||(J(t.$$.fragment,l),n=!0)},o(l){ne(t.$$.fragment,l),n=!1},d(l){Ne(t,l)}}}const or=([e])=>e;function Ua(e,t,n){let l,s,o,r,a;ae(e,oe,d=>n(0,r=d)),ae(e,mt,d=>n(3,a=d));const c=d=>{te(oe,r.menu=r.menu.filter(h=>h.name!==d.name),r)},u=d=>{te(oe,r.menu=[...r.menu,d],r)},_=()=>te(mt,a=!1,a);return e.$$.update=()=>{e.$$.dirty&1&&n(4,l=ho.sort((d,h)=>{const m=r.menu.some(M=>M.name===d.name),g=r.menu.some(M=>M.name===h.name),b=(!d.requires||d.requires.every(M=>r.ownedEquipment.some(I=>I.name===M)))&&!m,k=(!h.requires||h.requires.every(M=>r.ownedEquipment.some(I=>I.name===M)))&&!g;return m&&!g?-1:!m&&g?1:b&&!k?-1:!b&&k?1:d.name.localeCompare(h.name)})),e.$$.dirty&17&&n(2,s=l.filter(d=>{const h=r.menu.some(g=>g.name===d.name);return(!d.requires||d.requires.every(g=>r.ownedEquipment.some(y=>y.name===g)))&&!h})),e.$$.dirty&17&&n(1,o=l.filter(d=>{const h=r.menu.some(g=>g.name===d.name);return!(!d.requires||d.requires.every(g=>r.ownedEquipment.some(y=>y.name===g)))&&!h}))},[r,o,s,a,l,c,u,_]}class Ga extends ot{constructor(t){super(),rt(this,t,Ua,za,nt,{})}}function ir(e,t,n){const l=e.slice();l[8]=t[n][0],l[9]=t[n][1];const s=l[2](l[9]);l[10]=s;const o=l[9]<5?"from-warning/10":l[9]<15?"from-info/10":l[9]<30?"from-success/10":"from-special/10";l[11]=o;const r=l[9]<5?"border-warning/40":l[9]<15?"border-info/40":l[9]<30?"border-success/40":"border-special/40";return l[12]=r,l}function Ja(e){let t;return{c(){t=p("div"),t.innerHTML='<div class="text-6xl mb-4">👤</div> <h2 class="text-2xl font-bold text-textSecondary">No Employee Selected</h2>',f(t,"class","text-center p-8")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Va(e){let t,n,l,s,o,r,a,c,u,_=e[1].experience+"",d,h,m,g,y=e[1].experience<100?"Beginner":e[1].experience<300?"Intermediate":e[1].experience<600?"Advanced":"Expert",b,w,k,M,I,N,S,C,A,E,$,B=e[1].dailyWage+"",W,D,j,z,q,L,Z,fe=$n(e[1].happiness,!0)+"",de,ie,Q,H,G,ee,se=(e[1].happiness*100).toFixed(0)+"",pe,Je,we,qe,Pe,Ie=($n(e[1].happiness,!1).split(" ")[1]||"Normal")+"",Oe,Te,ke,Ye,Ce,We,_e,Le,he,Me,ce=e[1].currentOrder?`Order #${e[1].currentOrder}`:"Available",Fe,me,be,R=e[1].currentOrder?"Working":"Waiting for orders",U,K,ve,it,wt,kt;function _t(ge,$e){return $e&2&&(kt=null),kt==null&&(kt=!!(ge[1].menuItemProficiency&&Object.keys(ge[1].menuItemProficiency).length>0)),kt?Qa:Xa}let Ct=_t(e,-1),De=Ct(e);return{c(){t=p("div"),n=p("div"),l=p("div"),s=p("div"),s.textContent="⭐",o=v(),r=p("div"),a=p("div"),a.textContent="Experience",c=v(),u=p("div"),d=x(_),h=x("xp"),m=v(),g=p("div"),b=x(y),w=v(),k=p("div"),M=p("div"),I=p("div"),I.textContent="💰",N=v(),S=p("div"),C=p("div"),C.textContent="Daily Wage",A=v(),E=p("div"),$=x("$"),W=x(B),D=v(),j=p("div"),j.textContent="Per day salary",z=v(),q=p("div"),L=p("div"),Z=p("div"),de=x(fe),ie=v(),Q=p("div"),H=p("div"),H.textContent="Happiness",G=v(),ee=p("div"),pe=x(se),Je=x("%"),qe=v(),Pe=p("div"),Oe=x(Ie),Te=v(),ke=p("div"),Ye=p("div"),Ce=p("div"),Ce.textContent="🎯",We=v(),_e=p("div"),Le=p("div"),Le.textContent="Current Task",he=v(),Me=p("div"),Fe=x(ce),me=v(),be=p("div"),U=x(R),K=v(),ve=p("div"),it=p("div"),it.innerHTML='<div class="text-2xl">🍽️</div> <h2 class="text-xl font-bold text-accent">Menu Item Proficiency</h2>',wt=v(),De.c(),f(s,"class","text-2xl"),f(a,"class","text-xs text-textSecondary font-medium"),f(u,"class","text-xl font-bold text-special"),f(l,"class","flex items-center gap-3 mb-2"),f(g,"class","text-xs text-textSecondary"),f(n,"class","bg-gradient-to-br from-special/20 to-special/10 border-2 border-special/40 rounded-xl p-4 shadow-lg"),f(I,"class","text-2xl"),f(C,"class","text-xs text-textSecondary font-medium"),f(E,"class","text-xl font-bold text-warning"),f(M,"class","flex items-center gap-3 mb-2"),f(j,"class","text-xs text-textSecondary"),f(k,"class","bg-gradient-to-br from-warning/20 to-warning/10 border-2 border-warning/40 rounded-xl p-4 shadow-lg"),f(Z,"class","text-2xl"),f(H,"class","text-xs text-textSecondary font-medium"),f(ee,"class",we="text-xl font-bold "+cr(e[1].happiness)),f(L,"class","flex items-center gap-3 mb-2"),f(Pe,"class","text-xs text-textSecondary"),f(q,"class","bg-gradient-to-br from-success/20 to-success/10 border-2 border-success/40 rounded-xl p-4 shadow-lg"),f(Ce,"class","text-2xl"),f(Le,"class","text-xs text-textSecondary font-medium"),f(Me,"class","text-sm font-bold text-interactive"),f(Ye,"class","flex items-center gap-3 mb-2"),f(be,"class","text-xs text-textSecondary"),f(ke,"class","bg-gradient-to-br from-interactive/20 to-interactive/10 border-2 border-interactive/40 rounded-xl p-4 shadow-lg"),f(t,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),f(it,"class","flex items-center gap-3"),f(ve,"class","space-y-4")},m(ge,$e){T(ge,t,$e),i(t,n),i(n,l),i(l,s),i(l,o),i(l,r),i(r,a),i(r,c),i(r,u),i(u,d),i(u,h),i(n,m),i(n,g),i(g,b),i(t,w),i(t,k),i(k,M),i(M,I),i(M,N),i(M,S),i(S,C),i(S,A),i(S,E),i(E,$),i(E,W),i(k,D),i(k,j),i(t,z),i(t,q),i(q,L),i(L,Z),i(Z,de),i(L,ie),i(L,Q),i(Q,H),i(Q,G),i(Q,ee),i(ee,pe),i(ee,Je),i(q,qe),i(q,Pe),i(Pe,Oe),i(t,Te),i(t,ke),i(ke,Ye),i(Ye,Ce),i(Ye,We),i(Ye,_e),i(_e,Le),i(_e,he),i(_e,Me),i(Me,Fe),i(ke,me),i(ke,be),i(be,U),T(ge,K,$e),T(ge,ve,$e),i(ve,it),i(ve,wt),De.m(ve,null)},p(ge,$e){$e&2&&_!==(_=ge[1].experience+"")&&F(d,_),$e&2&&y!==(y=ge[1].experience<100?"Beginner":ge[1].experience<300?"Intermediate":ge[1].experience<600?"Advanced":"Expert")&&F(b,y),$e&2&&B!==(B=ge[1].dailyWage+"")&&F(W,B),$e&2&&fe!==(fe=$n(ge[1].happiness,!0)+"")&&F(de,fe),$e&2&&se!==(se=(ge[1].happiness*100).toFixed(0)+"")&&F(pe,se),$e&2&&we!==(we="text-xl font-bold "+cr(ge[1].happiness))&&f(ee,"class",we),$e&2&&Ie!==(Ie=($n(ge[1].happiness,!1).split(" ")[1]||"Normal")+"")&&F(Oe,Ie),$e&2&&ce!==(ce=ge[1].currentOrder?`Order #${ge[1].currentOrder}`:"Available")&&F(Fe,ce),$e&2&&R!==(R=ge[1].currentOrder?"Working":"Waiting for orders")&&F(U,R),Ct===(Ct=_t(ge,$e))&&De?De.p(ge,$e):(De.d(1),De=Ct(ge),De&&(De.c(),De.m(ve,null)))},d(ge){ge&&(P(t),P(K),P(ve)),De.d()}}}function Xa(e){let t;return{c(){t=p("div"),t.innerHTML=`<div class="text-6xl mb-4">🌱</div> <h3 class="text-xl font-bold text-textSecondary mb-2">New Employee</h3> <p class="text-textSecondary">No specific experience yet. This employee will gain proficiency as
							they work on different menu items.</p>`,f(t,"class","bg-gradient-to-br from-borderColor/20 to-borderColor/10 border-2 border-borderColor/40 rounded-xl p-8 text-center")},m(n,l){T(n,t,l)},p:re,d(n){n&&P(t)}}}function Qa(e){let t,n=le(Object.entries(e[1].menuItemProficiency).sort(ur)),l=[];for(let s=0;s<n.length;s+=1)l[s]=ar(ir(e,n,s));return{c(){t=p("div");for(let s=0;s<l.length;s+=1)l[s].c();f(t,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(s,o){T(s,t,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(s,o){if(o&6){n=le(Object.entries(s[1].menuItemProficiency).sort(ur));let r;for(r=0;r<n.length;r+=1){const a=ir(s,n,r);l[r]?l[r].p(a,o):(l[r]=ar(a),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&P(t),Ee(l,s)}}}function ar(e){let t,n,l,s=e[8]+"",o,r,a,c,u,_,d,h=e[9]+"",m,g,y,b,w,k,M=((e[10]-1)*100).toFixed(0)+"",I,N,S,C,A,E,$,B,W,D=e[10]>1?"Expert":"Beginner",j,z,q;return{c(){t=p("div"),n=p("div"),l=p("h4"),o=x(s),r=v(),a=p("div"),c=p("div"),u=p("span"),u.textContent="Items Made:",_=v(),d=p("span"),m=x(h),g=v(),y=p("div"),b=p("span"),b.textContent="Speed Bonus:",w=v(),k=p("span"),I=x(M),N=x("%"),C=v(),A=p("div"),E=p("div"),$=p("div"),B=v(),W=p("div"),j=x(D),z=v(),f(l,"class","font-bold text-textPrimary text-sm"),f(n,"class","flex items-center justify-between mb-3"),f(u,"class","text-xs text-textSecondary"),f(d,"class","text-sm font-bold text-textPrimary"),f(c,"class","flex justify-between items-center"),f(b,"class","text-xs text-textSecondary"),f(k,"class",S="text-sm font-bold "+(e[10]>1?"text-success":e[10]===1?"text-textPrimary":"text-error")),f(y,"class","flex justify-between items-center"),f(a,"class","space-y-2"),f($,"class","bg-gradient-to-r from-success to-special h-2 rounded-full transition-all duration-500"),Ke($,"width",Math.min(100,e[9]/50*100)+"%"),f(E,"class","w-full bg-borderColor/30 rounded-full h-2"),f(W,"class","text-xs text-textSecondary mt-1 text-center"),f(A,"class","mt-3"),f(t,"class",q="bg-gradient-to-br "+e[11]+" to-cardBackground border-2 "+e[12]+" rounded-xl p-4 shadow-lg hover:shadow-xl transition-all duration-300")},m(L,Z){T(L,t,Z),i(t,n),i(n,l),i(l,o),i(t,r),i(t,a),i(a,c),i(c,u),i(c,_),i(c,d),i(d,m),i(a,g),i(a,y),i(y,b),i(y,w),i(y,k),i(k,I),i(k,N),i(t,C),i(t,A),i(A,E),i(E,$),i(A,B),i(A,W),i(W,j),i(t,z)},p(L,Z){Z&2&&s!==(s=L[8]+"")&&F(o,s),Z&2&&h!==(h=L[9]+"")&&F(m,h),Z&2&&M!==(M=((L[10]-1)*100).toFixed(0)+"")&&F(I,M),Z&2&&S!==(S="text-sm font-bold "+(L[10]>1?"text-success":L[10]===1?"text-textPrimary":"text-error"))&&f(k,"class",S),Z&2&&Ke($,"width",Math.min(100,L[9]/50*100)+"%"),Z&2&&D!==(D=L[10]>1?"Expert":"Beginner")&&F(j,D),Z&2&&q!==(q="bg-gradient-to-br "+L[11]+" to-cardBackground border-2 "+L[12]+" rounded-xl p-4 shadow-lg hover:shadow-xl transition-all duration-300")&&f(t,"class",q)},d(L){L&&P(t)}}}function Ka(e){let t;function n(o,r){return o[1]?Va:Ja}let l=n(e),s=l(e);return{c(){t=p("div"),s.c(),f(t,"slot","content"),f(t,"class","space-y-8")},m(o,r){T(o,t,r),s.m(t,null)},p(o,r){l===(l=n(o))&&s?s.p(o,r):(s.d(1),s=l(o),s&&(s.c(),s.m(t,null)))},d(o){o&&P(t),s.d()}}}function Za(e){let t,n,l,s,o,r,a;return{c(){t=p("div"),n=p("div"),l=p("div"),l.textContent="💡 Tip: Higher proficiency means faster order completion!",s=v(),o=p("button"),o.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
				Fire Employee`,f(l,"class","text-textSecondary text-xs"),f(o,"class","btn bg-error/80 hover:bg-error text-textPrimary border-error/50 gap-2 px-4 py-2"),f(n,"class","flex justify-between items-center max-w-7xl mx-auto"),f(t,"slot","footer"),f(t,"class","border-t-2 border-accent/30 bg-gradient-to-r from-cardBackground/60 to-modalBackground/60 p-3 flex-shrink-0")},m(c,u){T(c,t,u),i(t,n),i(n,l),i(n,s),i(n,o),r||(a=X(o,"click",e[3]),r=!0)},p:re,d(c){c&&P(t),r=!1,a()}}}function ec(e){let t,n;return t=new Gn({props:{show:e[0],title:e[1]?e[1].name:"Staff Details",subtitle:"Employee information and performance",icon:"👤",onClose:e[4],$$slots:{footer:[Za],content:[Ka]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(l,s){Be(t,l,s),n=!0},p(l,[s]){const o={};s&1&&(o.show=l[0]),s&2&&(o.title=l[1]?l[1].name:"Staff Details"),s&3&&(o.onClose=l[4]),s&32770&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){n||(J(t.$$.fragment,l),n=!0)},o(l){ne(t.$$.fragment,l),n=!1},d(l){Ne(t,l)}}}function $n(e,t=!0){return e?e>=1.2?t?"😍":"😍 Happy":e>=1?t?"🙂":"🙂 Fine":e>=.8?t?"🫤":"🫤 Iffy":e>=.5?t?"😡":"😡 Bad":t?"🤬":"🤬 Terrible":t?"🙂":"🙂 Fine"}function cr(e){return!e||e>=1?"text-success":e>=.8?"text-warning":"text-error"}const ur=([,e],[,t])=>t-e;function tc(e,t,n){let l,s,o,r;ae(e,ue,_=>n(5,l=_)),ae(e,ht,_=>n(0,s=_)),ae(e,tn,_=>n(1,o=_)),ae(e,oe,_=>n(6,r=_));function a(_){const h=go(_??0);return Math.round(h*100)/100}function c(){if(!o)return;const _=o;te(oe,r.staff=r.staff.filter(d=>d.name!==_.name),r),te(tn,o=null,o),te(ht,s=!1,s),te(ue,l=!1,l)}return[s,o,a,c,()=>{te(ht,s=!1,s),te(tn,o=null,o)}]}class nc extends ot{constructor(t){super(),rt(this,t,tc,ec,nt,{})}}function fr(e){let t,n,l,s=e[0].name+"",o,r,a,c,u,_,d=e[0].marketPrice.toFixed(2)+"",h,m,g,y,b,w,k=e[0].price.toFixed(2)+"",M,I,N,S,C,A,E=e[3].toFixed(2)+"",$,B,W,D,j,z,q,L,Z,fe,de,ie,Q,H,G,ee;return{c(){t=p("div"),n=p("div"),l=p("h4"),o=x(s),r=v(),a=p("div"),c=x("Market Price: "),u=p("span"),_=x("$"),h=x(d),m=v(),g=p("div"),y=x("Current Price: "),b=p("span"),w=x("$"),M=x(k),I=v(),N=p("div"),S=x("Ingredient Cost: "),C=p("span"),A=x("~$"),$=x(E),B=x(" per serving"),W=v(),D=p("div"),j=p("label"),j.innerHTML='<span class="label-text text-textPrimary">New Price ($)</span>',z=v(),q=p("input"),L=v(),Z=p("div"),fe=p("button"),fe.textContent="Cancel",de=v(),ie=p("button"),Q=x("Update"),f(l,"class","text-lg font-semibold text-accent"),f(u,"class","text-interactive font-medium"),f(a,"class","text-sm text-textSecondary"),f(b,"class","text-success font-medium"),f(g,"class","text-sm text-textSecondary"),f(C,"class","text-warning font-medium"),f(N,"class","text-sm text-textSecondary"),f(n,"class","flex flex-col gap-2"),f(j,"class","label"),f(q,"type","number"),f(q,"min","0.10"),f(q,"step","0.01"),f(q,"class","input text-2xl bg-cardBackground/60 text-textPrimary h-16 rounded-md svelte-g03mgg"),f(q,"placeholder","Enter new price"),f(D,"class","form-control"),f(t,"class","flex flex-col gap-4"),f(fe,"class","btn bg-cardBackground/60 text-textSecondary hover:bg-cardBackground/80 border-none"),f(ie,"class","btn bg-success/80 text-textPrimary hover:bg-success border-none"),ie.disabled=H=e[2]<.1,f(Z,"class","modal-action")},m(se,pe){T(se,t,pe),i(t,n),i(n,l),i(l,o),i(n,r),i(n,a),i(a,c),i(a,u),i(u,_),i(u,h),i(n,m),i(n,g),i(g,y),i(g,b),i(b,w),i(b,M),i(n,I),i(n,N),i(N,S),i(N,C),i(C,A),i(C,$),i(C,B),i(t,W),i(t,D),i(D,j),i(D,z),i(D,q),ln(q,e[2]),T(se,L,pe),T(se,Z,pe),i(Z,fe),i(Z,de),i(Z,ie),i(ie,Q),G||(ee=[X(q,"input",e[7]),X(fe,"click",e[5]),X(ie,"click",e[4])],G=!0)},p(se,pe){pe&1&&s!==(s=se[0].name+"")&&F(o,s),pe&1&&d!==(d=se[0].marketPrice.toFixed(2)+"")&&F(h,d),pe&1&&k!==(k=se[0].price.toFixed(2)+"")&&F(M,k),pe&8&&E!==(E=se[3].toFixed(2)+"")&&F($,E),pe&4&&ro(q.value)!==se[2]&&ln(q,se[2]),pe&4&&H!==(H=se[2]<.1)&&(ie.disabled=H)},d(se){se&&(P(t),P(L),P(Z)),G=!1,Re(ee)}}}function lc(e){let t,n,l,s,o,r,a,c,u,_,d=e[0]&&fr(e);return{c(){t=p("dialog"),n=p("div"),l=p("div"),s=p("h3"),s.textContent="💰 Adjust Price",o=v(),r=p("button"),r.textContent="✕",a=v(),d&&d.c(),f(s,"class","text-2xl font-bold text-accent flex items-center gap-2"),f(r,"class","btn btn-sm btn-circle btn-ghost text-textSecondary hover:text-textPrimary"),f(l,"class","flex items-center justify-between mb-6 flex-shrink-0"),f(n,"class","modal-box bg-modalBackground/95 backdrop-blur-md text-textPrimary min-w-[30vw] max-w-[40vw] flex flex-col border-2 border-info/60 shadow-2xl"),f(t,"id","price_adjustment_modal"),f(t,"class",c="modal "+(e[1]?"modal-open":""))},m(h,m){T(h,t,m),i(t,n),i(n,l),i(l,s),i(l,o),i(l,r),i(n,a),d&&d.m(n,null),u||(_=X(r,"click",e[5]),u=!0)},p(h,[m]){h[0]?d?d.p(h,m):(d=fr(h),d.c(),d.m(n,null)):d&&(d.d(1),d=null),m&2&&c!==(c="modal "+(h[1]?"modal-open":""))&&f(t,"class",c)},i:re,o:re,d(h){h&&P(t),d&&d.d(),u=!1,_()}}}function sc(e,t,n){let l,s,o,r;ae(e,xn,h=>n(0,s=h)),ae(e,ue,h=>n(8,o=h)),ae(e,ct,h=>n(1,r=h));let a=0,c=!1;function u(){if(te(ue,o=!1,o),s){(a==null||a==null)&&n(2,a=.1);let h=parseFloat(a.toString());isNaN(h)&&(h=.1),h=Math.max(.1,h),h=Math.ceil(h*100)/100,yi(s.name,h),ct.set(!1)}}function _(){ct.set(!1)}function d(){a=ro(this.value),n(2,a),n(1,r),n(6,c),n(0,s)}return e.$$.update=()=>{e.$$.dirty&67&&r&&!c&&s&&(n(2,a=s.price),n(6,c=!0)),e.$$.dirty&2&&(r||(te(ue,o=!1,o),n(6,c=!1))),e.$$.dirty&1&&n(3,l=s?xi(s):0)},[s,r,a,l,u,_,c,d]}class rc extends ot{constructor(t){super(),rt(this,t,sc,lc,nt,{})}}const oc=e=>({}),dr=e=>({}),ic=e=>({}),pr=e=>({});function ac(e){let t,n,l,s,o,r,a;const c=[fc,uc],u=[];function _(d,h){return d[5]&&d[1]&&!d[3]?0:1}return n=_(e),l=u[n]=c[n](e),{c(){t=p("button"),l.c(),f(t,"class",s="text-xs text-textPrimary px-1.5 cursor-pointer rounded-md flex flex-row h-full items-center gap-1 transition-all duration-200 "+Yn(e[0])+" "+(e[3]?"cursor-not-allowed":""))},m(d,h){T(d,t,h),u[n].m(t,null),o=!0,r||(a=[X(t,"mouseenter",e[12]),X(t,"mouseleave",e[13]),X(t,"click",function(){qt(e[3]?void 0:e[6])&&(e[3]?void 0:e[6]).apply(this,arguments)})],r=!0)},p(d,h){e=d;let m=n;n=_(e),n===m?u[n].p(e,h):(ut(),ne(u[m],1,1,()=>{u[m]=null}),ft(),l=u[n],l?l.p(e,h):(l=u[n]=c[n](e),l.c()),J(l,1),l.m(t,null)),(!o||h&9&&s!==(s="text-xs text-textPrimary px-1.5 cursor-pointer rounded-md flex flex-row h-full items-center gap-1 transition-all duration-200 "+Yn(e[0])+" "+(e[3]?"cursor-not-allowed":"")))&&f(t,"class",s)},i(d){o||(J(l),o=!0)},o(d){ne(l),o=!1},d(d){d&&P(t),u[n].d(),r=!1,Re(a)}}}function cc(e){let t,n,l,s,o,r,a,c;const u=[pc,dc],_=[];function d(h,m){return h[5]&&h[1]&&!h[3]?0:1}return l=d(e),s=_[l]=u[l](e),{c(){t=p("button"),n=p("div"),s.c(),f(n,"class",o="text-xs text-textPrimary cursor-pointer px-1.5 rounded-md flex flex-row h-full items-center gap-1 transition-all duration-200 "+Yn(e[0])+" "+(e[3]?"cursor-not-allowed":"")),f(t,"class","tooltip tooltip-content tooltip-secondary tooltip-left"),f(t,"data-tip",e[4])},m(h,m){T(h,t,m),i(t,n),_[l].m(n,null),r=!0,a||(c=[X(n,"mouseenter",e[10]),X(n,"mouseleave",e[11]),X(n,"click",function(){qt(e[3]?void 0:e[6])&&(e[3]?void 0:e[6]).apply(this,arguments)})],a=!0)},p(h,m){e=h;let g=l;l=d(e),l===g?_[l].p(e,m):(ut(),ne(_[g],1,1,()=>{_[g]=null}),ft(),s=_[l],s?s.p(e,m):(s=_[l]=u[l](e),s.c()),J(s,1),s.m(n,null)),(!r||m&9&&o!==(o="text-xs text-textPrimary cursor-pointer px-1.5 rounded-md flex flex-row h-full items-center gap-1 transition-all duration-200 "+Yn(e[0])+" "+(e[3]?"cursor-not-allowed":"")))&&f(n,"class",o),(!r||m&16)&&f(t,"data-tip",e[4])},i(h){r||(J(s),r=!0)},o(h){ne(s),r=!1},d(h){h&&P(t),_[l].d(),a=!1,Re(c)}}}function uc(e){let t,n,l,s;const o=e[9].visual,r=Vt(o,e,e[8],dr);return{c(){t=p("span"),n=x(e[2]),l=v(),r&&r.c(),f(t,"class","overflow-hidden text-ellipsis whitespace-nowrap")},m(a,c){T(a,t,c),i(t,n),T(a,l,c),r&&r.m(a,c),s=!0},p(a,c){(!s||c&4)&&F(n,a[2]),r&&r.p&&(!s||c&256)&&Qt(r,o,a,a[8],s?Xt(o,a[8],c,oc):Kt(a[8]),dr)},i(a){s||(J(r,a),s=!0)},o(a){ne(r,a),s=!1},d(a){a&&(P(t),P(l)),r&&r.d(a)}}}function fc(e){let t,n;return{c(){t=p("span"),n=x(e[1]),f(t,"class","overflow-hidden text-ellipsis whitespace-nowrap")},m(l,s){T(l,t,s),i(t,n)},p(l,s){s&2&&F(n,l[1])},i:re,o:re,d(l){l&&P(t)}}}function dc(e){let t,n,l,s;const o=e[9].visual,r=Vt(o,e,e[8],pr);return{c(){t=p("span"),n=x(e[2]),l=v(),r&&r.c(),f(t,"class","overflow-hidden text-ellipsis whitespace-nowrap")},m(a,c){T(a,t,c),i(t,n),T(a,l,c),r&&r.m(a,c),s=!0},p(a,c){(!s||c&4)&&F(n,a[2]),r&&r.p&&(!s||c&256)&&Qt(r,o,a,a[8],s?Xt(o,a[8],c,ic):Kt(a[8]),pr)},i(a){s||(J(r,a),s=!0)},o(a){ne(r,a),s=!1},d(a){a&&(P(t),P(l)),r&&r.d(a)}}}function pc(e){let t,n;return{c(){t=p("span"),n=x(e[1]),f(t,"class","overflow-hidden text-ellipsis whitespace-nowrap")},m(l,s){T(l,t,s),i(t,n)},p(l,s){s&2&&F(n,l[1])},i:re,o:re,d(l){l&&P(t)}}}function mc(e){let t,n,l,s;const o=[cc,ac],r=[];function a(c,u){return c[4]?0:1}return t=a(e),n=r[t]=o[t](e),{c(){n.c(),l=bt()},m(c,u){r[t].m(c,u),T(c,l,u),s=!0},p(c,[u]){let _=t;t=a(c),t===_?r[t].p(c,u):(ut(),ne(r[_],1,1,()=>{r[_]=null}),ft(),n=r[t],n?n.p(c,u):(n=r[t]=o[t](c),n.c()),J(n,1),n.m(l.parentNode,l))},i(c){s||(J(n),s=!0)},o(c){ne(n),s=!1},d(c){c&&P(l),r[t].d(c)}}}function Yn(e){switch(e){case"success":return"bg-success/70 hover:bg-success/90";case"warning":return"bg-warning/70 hover:bg-warning/90";case"error":return"bg-error/70 hover:bg-error/90";case"interactive":return"bg-interactive/70 hover:bg-interactive/90";default:return"bg-success/70 hover:bg-success/90"}}function hc(e,t,n){let{$$slots:l={},$$scope:s}=t,{variant:o="success"}=t,{onClick:r=void 0}=t,{hoverContent:a=void 0}=t,{normalContent:c}=t,{disabled:u=!1}=t,{tooltip:_=void 0}=t,d=!1;function h(){!u&&r&&r()}const m=()=>n(5,d=!0),g=()=>n(5,d=!1),y=()=>n(5,d=!0),b=()=>n(5,d=!1);return e.$$set=w=>{"variant"in w&&n(0,o=w.variant),"onClick"in w&&n(7,r=w.onClick),"hoverContent"in w&&n(1,a=w.hoverContent),"normalContent"in w&&n(2,c=w.normalContent),"disabled"in w&&n(3,u=w.disabled),"tooltip"in w&&n(4,_=w.tooltip),"$$scope"in w&&n(8,s=w.$$scope)},[o,a,c,u,_,d,h,r,s,l,m,g,y,b]}class El extends ot{constructor(t){super(),rt(this,t,hc,mc,nt,{variant:0,onClick:7,hoverContent:1,normalContent:2,disabled:3,tooltip:4})}}function mr(e,t,n){const l=e.slice();l[41]=t[n],l[44]=n;const s=sn.find(function(...r){return e[33](l[41],...r)});return l[42]=s,l}function hr(e,t,n){const l=e.slice();return l[45]=t[n],l}function _r(e,t,n){const l=e.slice();return l[48]=t[n],l[44]=n,l}function gr(e,t,n){const l=e.slice();return l[50]=t[n],l[44]=n,l}function br(e,t,n){const l=e.slice();return l[52]=t[n],l[44]=n,l}function vr(e,t,n){const l=e.slice();return l[45]=t[n],l}function _c(e){let t,n;return{c(){t=p("img"),zn(t.src,n="/fast_speed.svg")||f(t,"src",n),f(t,"alt","fast speed"),f(t,"class","w-4 h-4")},m(l,s){T(l,t,s)},d(l){l&&P(t)}}}function gc(e){let t,n;return{c(){t=p("img"),zn(t.src,n="/normal_speed.svg")||f(t,"src",n),f(t,"alt","normal speed"),f(t,"class","w-4 h-4")},m(l,s){T(l,t,s)},d(l){l&&P(t)}}}function yr(e){let t,n;return{c(){t=p("img"),zn(t.src,n="/star.svg")||f(t,"src",n),f(t,"alt","star"),f(t,"class","w-4 h-4 brightness-0 invert")},m(l,s){T(l,t,s)},p:re,d(l){l&&P(t)}}}function xr(e){let t,n;return{c(){t=p("img"),zn(t.src,n="/halfstar.svg")||f(t,"src",n),f(t,"alt","half star"),f(t,"class","w-4 h-4 brightness-0 invert")},m(l,s){T(l,t,s)},d(l){l&&P(t)}}}function wr(e){let t,n,l,s,o=Wn(e[52].happiness,!0)+"",r,a,c,u=e[52].name+"",_,d,h,m=e[52].experience+"",g,y,b,w,k,M;function I(...$){return e[22](e[44],...$)}function N(...$){return e[23](e[44],...$)}function S(...$){return e[24](e[44],...$)}function C(...$){return e[25](e[44],...$)}function A(){return e[26](e[44])}function E(){return e[28](e[52])}return{c(){t=p("div"),n=p("div"),l=p("div"),s=p("span"),r=x(o),a=v(),c=p("div"),_=x(u),d=v(),h=p("div"),g=x(m),y=x("xp"),b=v(),f(s,"class","text-xs"),f(c,"class","text-sm"),f(l,"class","flex flex-row items-center w-full gap-1"),f(h,"class","text-xs bg-success/70 text-textPrimary px-1.5 rounded-md"),f(n,"class","flex flex-row items-center gap-2 w-full"),f(t,"class",w="flex flex-row gap-1 cursor-pointer duration-200 rounded "+(e[2]===e[44]?"bg-info/30":"")),f(t,"draggable","true")},m($,B){T($,t,B),i(t,n),i(n,l),i(l,s),i(s,r),i(l,a),i(l,c),i(c,_),i(n,d),i(n,h),i(h,g),i(h,y),i(t,b),k||(M=[X(t,"dragstart",I),X(t,"dragover",N),X(t,"dragenter",S),X(t,"drop",C),X(t,"dragend",e[15]),X(t,"mouseenter",A),X(t,"mouseleave",e[27]),X(t,"click",E)],k=!0)},p($,B){e=$,B[0]&2&&o!==(o=Wn(e[52].happiness,!0)+"")&&F(r,o),B[0]&2&&u!==(u=e[52].name+"")&&F(_,u),B[0]&2&&m!==(m=e[52].experience+"")&&F(g,m),B[0]&4&&w!==(w="flex flex-row gap-1 cursor-pointer duration-200 rounded "+(e[2]===e[44]?"bg-info/30":""))&&f(t,"class",w)},d($){$&&P(t),k=!1,Re(M)}}}function kr(e){let t,n,l,s=le(e[1].managers),o=[];for(let r=0;r<s.length;r+=1)o[r]=Cr(gr(e,s,r));return{c(){t=p("div"),n=p("span"),n.textContent="Managers",l=v();for(let r=0;r<o.length;r+=1)o[r].c();f(n,"class","font-semibold text-accent"),f(t,"class","flex flex-col gap-1")},m(r,a){T(r,t,a),i(t,n),i(t,l);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null)},p(r,a){if(a[0]&2){s=le(r[1].managers);let c;for(c=0;c<s.length;c+=1){const u=gr(r,s,c);o[c]?o[c].p(u,a):(o[c]=Cr(u),o[c].c(),o[c].m(t,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d(r){r&&P(t),Ee(o,r)}}}function Cr(e){let t,n,l,s,o=Wn(e[50].happiness,!0)+"",r,a,c,u=e[50].name+"",_,d,h,m=e[50].experience+"",g,y,b;return{c(){t=p("div"),n=p("div"),l=p("div"),s=p("span"),r=x(o),a=v(),c=p("span"),_=x(u),d=v(),h=p("div"),g=x(m),y=x("xp"),b=v(),f(s,"class","text-xs"),f(l,"class","flex flex-row items-center w-full gap-1"),f(h,"class","text-xs bg-success/70 text-textPrimary px-1.5 rounded-md"),f(n,"class","flex flex-row items-center justify-between w-full gap-1"),f(t,"class","flex flex-row items-center justify-between gap-1 w-full")},m(w,k){T(w,t,k),i(t,n),i(n,l),i(l,s),i(s,r),i(l,a),i(l,c),i(c,_),i(n,d),i(n,h),i(h,g),i(h,y),i(t,b)},p(w,k){k[0]&2&&o!==(o=Wn(w[50].happiness,!0)+"")&&F(r,o),k[0]&2&&u!==(u=w[50].name+"")&&F(_,u),k[0]&2&&m!==(m=w[50].experience+"")&&F(g,m)},d(w){w&&P(t)}}}function bc(e){let t,n;function l(){return e[30](e[48])}return t=new El({props:{variant:e[48].quality>0?"error":"interactive",normalContent:e[48].quality>0?"Poor":"Repair",hoverContent:"Repair ($"+Math.floor(e[48].cost/8)+")",onClick:l}}),{c(){He(t.$$.fragment)},m(s,o){Be(t,s,o),n=!0},p(s,o){e=s;const r={};o[0]&2&&(r.variant=e[48].quality>0?"error":"interactive"),o[0]&2&&(r.normalContent=e[48].quality>0?"Poor":"Repair"),o[0]&2&&(r.hoverContent="Repair ($"+Math.floor(e[48].cost/8)+")"),o[0]&2&&(r.onClick=l),t.$set(r)},i(s){n||(J(t.$$.fragment,s),n=!0)},o(s){ne(t.$$.fragment,s),n=!1},d(s){Ne(t,s)}}}function vc(e){let t;return{c(){t=p("div"),t.textContent="Good",f(t,"class","text-xs bg-success/70 text-textPrimary px-1.5 rounded-md")},m(n,l){T(n,t,l)},p:re,i:re,o:re,d(n){n&&P(t)}}}function Mr(e){let t,n,l=e[48].name+"",s,o,r,a,c,u,_,d;const h=[vc,bc],m=[];function g(y,b){return y[48].quality>=30?0:1}return a=g(e),c=m[a]=h[a](e),{c(){t=p("div"),n=p("span"),s=x(l),o=v(),r=p("div"),c.c(),_=v(),f(n,"class","overflow-hidden text-ellipsis whitespace-nowrap"),f(r,"class","flex flex-row items-center gap-1 relative group"),f(r,"title",u="Quality: "+e[48].quality+"%"),f(t,"class","flex flex-row items-center justify-between gap-1 w-full")},m(y,b){T(y,t,b),i(t,n),i(n,s),i(t,o),i(t,r),m[a].m(r,null),i(t,_),d=!0},p(y,b){(!d||b[0]&2)&&l!==(l=y[48].name+"")&&F(s,l);let w=a;a=g(y),a===w?m[a].p(y,b):(ut(),ne(m[w],1,1,()=>{m[w]=null}),ft(),c=m[a],c?c.p(y,b):(c=m[a]=h[a](y),c.c()),J(c,1),c.m(r,null)),(!d||b[0]&2&&u!==(u="Quality: "+y[48].quality+"%"))&&f(r,"title",u)},i(y){d||(J(c),d=!0)},o(y){ne(c),d=!1},d(y){y&&P(t),m[a].d()}}}function Sr(e){let t,n=le(Array(on(e[41].quantity).count)),l=[];for(let s=0;s<n.length;s+=1)l[s]=Er(hr(e,n,s));return{c(){t=p("div");for(let s=0;s<l.length;s+=1)l[s].c();f(t,"class","flex flex-row gap-0.5 opacity-50")},m(s,o){T(s,t,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(s,o){if(o[0]&2){n=le(Array(on(s[41].quantity).count));let r;for(r=0;r<n.length;r+=1){const a=hr(s,n,r);l[r]?l[r].p(a,o):(l[r]=Er(a),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&P(t),Ee(l,s)}}}function Er(e){let t,n;return{c(){t=p("div"),f(t,"class",n="w-0.5 h-3 "+on(e[41].quantity).color+" svelte-1odo5ta")},m(l,s){T(l,t,s)},p(l,s){s[0]&2&&n!==(n="w-0.5 h-3 "+on(l[41].quantity).color+" svelte-1odo5ta")&&f(t,"class",n)},d(l){l&&P(t)}}}function yc(e){let t,n=on(e[41].quantity).count>0,l=n&&Sr(e);return{c(){t=p("div"),l&&l.c(),f(t,"slot","visual")},m(s,o){T(s,t,o),l&&l.m(t,null)},p(s,o){o[0]&2&&(n=on(s[41].quantity).count>0),n?l?l.p(s,o):(l=Sr(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(s){s&&P(t),l&&l.d()}}}function Pr(e){let t,n,l=e[41].name+"",s,o,r,a,c;function u(){return e[32](e[41])}return r=new El({props:{variant:e[41].quantity>25?"success":"warning",normalContent:e[41].quantity.toString(),hoverContent:e[42]?`${e[41].quantity} +($${e[42].cost})`:e[41].quantity.toString(),onClick:u,$$slots:{visual:[yc]},$$scope:{ctx:e}}}),{c(){t=p("div"),n=p("span"),s=x(l),o=v(),He(r.$$.fragment),a=v(),f(t,"class","flex flex-row items-center justify-between pb-1")},m(_,d){T(_,t,d),i(t,n),i(n,s),i(t,o),Be(r,t,null),i(t,a),c=!0},p(_,d){e=_,(!c||d[0]&2)&&l!==(l=e[41].name+"")&&F(s,l);const h={};d[0]&2&&(h.variant=e[41].quantity>25?"success":"warning"),d[0]&2&&(h.normalContent=e[41].quantity.toString()),d[0]&2&&(h.hoverContent=e[42]?`${e[41].quantity} +($${e[42].cost})`:e[41].quantity.toString()),d[0]&2&&(h.onClick=u),d[0]&2|d[1]&33554432&&(h.$$scope={dirty:d,ctx:e}),r.$set(h)},i(_){c||(J(r.$$.fragment,_),c=!0)},o(_){ne(r.$$.fragment,_),c=!1},d(_){_&&P(t),Ne(r)}}}function Tr(e){let t,n,l,s,o,r,a,c;return{c(){t=p("dialog"),n=p("div"),l=p("div"),l.innerHTML=`<h3 class="text-2xl font-bold text-textPrimary flex items-center gap-2">💡 Info</h3> <p class="text-black bg-white rounded-lg p-4 text-center my-4">All of these stats greatly impact your business performance. Improve
					popularity &amp; demand to get more customers, and improve vibe to make
					those customers happier.
					<br/> <br/>
					For example, if you have high popularity + high demand but low vibe, then
					you will get tons of customers, but they will expect the fastest orders
					ever as the café&#39;s environment is not very appealing.
					<br/> <br/>
					You can also choose to keep your shop niche with only a couple menu items
					and high popularity + vibe. This setup can be quite successful as fewer
					menu items are easier to manage.
					<br/> <br/>
					It&#39;s up to you!</p>`,s=v(),o=p("div"),r=p("button"),r.textContent="Got it!",f(l,"class","flex flex-col justify-between mb-4 flex-shrink-0"),f(r,"class","btn btn-md bg-success/80 w-fit text-textPrimary hover:bg-success border-success/50"),f(o,"class","flex flex-row justify-end"),f(n,"class","modal-box bg-modalBackground/70 backdrop-blur-md min-w-[50vw] text-textPrimary flex flex-col border-2 shadow-2xl"),f(t,"id","help_modal"),f(t,"class","modal modal-open modal-middle")},m(u,_){T(u,t,_),i(t,n),i(n,l),i(n,s),i(n,o),i(o,r),a||(c=X(r,"click",e[34]),a=!0)},p:re,d(u){u&&P(t),a=!1,c()}}}function xc(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y=Math.floor(e[1].tick/1e3)+"",b,w,k=Math.floor(e[1].tick%1e3/10)+"",M,I,N,S,C,A,E,$,B,W=e[1].cash+"",D,j,z,q,L,Z,fe,de,ie,Q,H,G,ee=Math.floor(e[1].popularity)+"",se,pe,Je,we,qe=((e[1].stats.popularityChange||0)>0?`+${e[1].stats.popularityChange}`:e[1].stats.popularityChange||0)+"",Pe,Ie,Oe,Te,ke,Ye,Ce,We=Math.floor(e[1].totalDemand)+"",_e,Le,he,Me,ce,Fe,me,be,R,U,K,ve,it,wt,kt,_t,Ct,De,ge,$e,Mt,At,kn,Pl,cn,Tl,$l,St,Ot,Cn,Il,Ft,ql,Mn,Jn,un,Bt,Vn,Nt,Xn,Lt,Qn,Dt,Kn,Ht,ze,Zn,Al;function Ol(O,V){return O[6]===200?gc:_c}let Sn=Ol(e),vt=Sn(e),jt=le(Array(Math.floor(e[1].vibe))),Ue=[];for(let O=0;O<jt.length;O+=1)Ue[O]=yr(vr(e,jt,O));let et=e[1].vibe%1>=.5&&xr(),Rt=le(e[1].staff),Ge=[];for(let O=0;O<Rt.length;O+=1)Ge[O]=wr(br(e,Rt,O));let Ve=e[1].managers.length>0&&kr(e),Et=le(e[1].ownedEquipment),ye=[];for(let O=0;O<Et.length;O+=1)ye[O]=Mr(_r(e,Et,O));const Ao=O=>ne(ye[O],1,1,()=>{ye[O]=null});let Pt=le(e[1].inventory),xe=[];for(let O=0;O<Pt.length;O+=1)xe[O]=Pr(mr(e,Pt,O));const Oo=O=>ne(xe[O],1,1,()=>{xe[O]=null});let Xe=e[3]&&Tr(e);return Bt=new ka({}),Nt=new Da({}),Lt=new Ga({}),Dt=new nc({}),Ht=new rc({}),{c(){t=p("div"),n=p("div"),l=p("div"),s=p("button"),o=p("kbd"),o.innerHTML='<span class="font-bold underline">P</span>ause',a=v(),c=p("button"),vt.c(),_=v(),d=p("div"),h=p("span"),h.textContent="Day",m=v(),g=p("span"),b=x(y),w=x(" ("),M=x(k),I=x("%)"),N=v(),S=p("div"),C=p("div"),A=p("span"),A.textContent="Cash",E=v(),$=p("span"),B=x("$"),D=x(W),j=v(),z=p("div"),q=p("span"),q.textContent="Profit",L=v(),Z=p("span"),fe=x(e[0]),de=v(),ie=p("div"),Q=p("span"),Q.textContent="Popularity",H=v(),G=p("span"),se=x(ee),pe=x("%"),Je=v(),we=p("span"),Pe=x(qe),Oe=v(),Te=p("div"),ke=p("span"),ke.textContent="Demand",Ye=v(),Ce=p("span"),_e=x(We),Le=v(),he=p("div"),Me=p("span"),Me.textContent="Vibe",ce=v(),Fe=p("div");for(let O=0;O<Ue.length;O+=1)Ue[O].c();me=v(),et&&et.c(),be=v(),R=p("kbd"),R.textContent="💡",U=v(),K=p("div"),ve=p("div"),it=p("div"),wt=p("span"),wt.textContent="Staff",kt=v(),_t=p("button"),_t.textContent="Hire",Ct=v(),De=p("div");for(let O=0;O<Ge.length;O+=1)Ge[O].c();ge=v(),Ve&&Ve.c(),$e=v(),Mt=p("div"),At=p("div"),kn=p("span"),kn.textContent="Equipment",Pl=v(),cn=p("button"),cn.textContent="Shop",Tl=v();for(let O=0;O<ye.length;O+=1)ye[O].c();$l=v(),St=p("div"),Ot=p("div"),Cn=p("span"),Cn.textContent="Inventory",Il=v(),Ft=p("button"),Ft.textContent="Shop",ql=v();for(let O=0;O<xe.length;O+=1)xe[O].c();Jn=v(),Xe&&Xe.c(),un=v(),He(Bt.$$.fragment),Vn=v(),He(Nt.$$.fragment),Xn=v(),He(Lt.$$.fragment),Qn=v(),He(Dt.$$.fragment),Kn=v(),He(Ht.$$.fragment),f(o,"class","kbd m-0 min-w-0"),f(s,"class",r="btn btn-sm w-min pr-0 pl-0 "+(e[5]?"bg-yellow-300 translate-y-[-2px] rotate-12 duration-200 hover:bg-yellow-600":"bg-cardBackground/60 opacity-40 text-textSecondary hover:bg-cardBackground/80")+" border-none"),f(c,"class",u="btn btn-sm px-3 duration-150 border-none transition-all "+(!e[5]&&e[6]===200?"bg-info/80 text-textPrimary hover:bg-info":!e[5]&&e[6]===50?"bg-red-500/80 text-textPrimary hover:bg-red-500 rounded-2xl":"bg-cardBackground/60 text-textSecondary hover:bg-cardBackground/80")),f(l,"class","flex flex-row items-center gap-2"),f(h,"class","text-textSecondary"),f(g,"class","font-medium"),f(d,"class","flex items-center gap-2 mt-2"),f(A,"class","text-textSecondary"),f($,"class","font-semibold"),f(C,"class","flex items-center gap-2"),f(q,"class","text-textSecondary"),f(Z,"class","text-sm"),f(z,"class","flex items-center gap-2"),f(Q,"class","text-textSecondary"),f(G,"class","font-medium"),f(we,"class",Ie=Bl("text-xs px-1.5 rounded-md "+$r(e[1].stats.popularityChange||0))+" svelte-1odo5ta"),f(ie,"class","flex items-center gap-2"),f(ke,"class","text-textSecondary"),f(Ce,"class","font-medium"),f(Te,"class","flex flex-row items-center gap-2"),f(Me,"class","text-textSecondary"),f(Fe,"class","flex items-center gap-0.5"),f(R,"class","kbd kbd-xs w-fit bg-yellow-800 opacity-50 hover:opacity-100 text-white cursor-pointer"),f(he,"class","flex flex-row items-center gap-2"),f(S,"class","flex flex-col mt-2"),f(S,"data-nux-id","stats"),f(n,"class","flex flex-col w-64"),f(wt,"class","font-semibold pb-2 text-accent"),f(_t,"class","btn btn-xs bg-info/80 text-textPrimary hover:bg-info border-info/50"),f(_t,"data-nux-id","open-hiring"),f(it,"class","flex flex-row gap-2"),f(De,"class","pb-4 flex flex-col gap-1"),f(ve,"class","flex flex-col"),f(kn,"class","font-semibold pb-2 text-accent"),f(cn,"class","btn btn-xs bg-info/80 text-textPrimary hover:bg-info border-info/50"),f(At,"class","flex flex-row gap-2"),f(Mt,"class","flex flex-col"),f(Cn,"class","font-semibold pb-2 text-accent"),f(Ft,"class","btn btn-xs bg-info/80 text-textPrimary hover:bg-info border-info/50"),f(Ft,"data-nux-id","open-shop"),f(Ot,"class","flex flex-row gap-2"),f(St,"class","flex flex-col"),f(K,"class","grid grid-cols-3 gap-8 w-full"),f(t,"class",Mn="flex flex-row w-full "+(e[5]?"bg-error/40 text-textPrimary border-interactive":"bg-cardBackground/80 text-textPrimary")+" px-6 py-6 h-fit'}")},m(O,V){T(O,t,V),i(t,n),i(n,l),i(l,s),i(s,o),i(l,a),i(l,c),vt.m(c,null),i(n,_),i(n,d),i(d,h),i(d,m),i(d,g),i(g,b),i(g,w),i(g,M),i(g,I),i(n,N),i(n,S),i(S,C),i(C,A),i(C,E),i(C,$),i($,B),i($,D),i(S,j),i(S,z),i(z,q),i(z,L),i(z,Z),i(Z,fe),i(S,de),i(S,ie),i(ie,Q),i(ie,H),i(ie,G),i(G,se),i(G,pe),i(ie,Je),i(ie,we),i(we,Pe),i(S,Oe),i(S,Te),i(Te,ke),i(Te,Ye),i(Te,Ce),i(Ce,_e),i(S,Le),i(S,he),i(he,Me),i(he,ce),i(he,Fe);for(let Y=0;Y<Ue.length;Y+=1)Ue[Y]&&Ue[Y].m(Fe,null);i(Fe,me),et&&et.m(Fe,null),i(he,be),i(he,R),i(t,U),i(t,K),i(K,ve),i(ve,it),i(it,wt),i(it,kt),i(it,_t),i(ve,Ct),i(ve,De);for(let Y=0;Y<Ge.length;Y+=1)Ge[Y]&&Ge[Y].m(De,null);i(ve,ge),Ve&&Ve.m(ve,null),i(K,$e),i(K,Mt),i(Mt,At),i(At,kn),i(At,Pl),i(At,cn),i(Mt,Tl);for(let Y=0;Y<ye.length;Y+=1)ye[Y]&&ye[Y].m(Mt,null);i(K,$l),i(K,St),i(St,Ot),i(Ot,Cn),i(Ot,Il),i(Ot,Ft),i(St,ql);for(let Y=0;Y<xe.length;Y+=1)xe[Y]&&xe[Y].m(St,null);T(O,Jn,V),Xe&&Xe.m(O,V),T(O,un,V),Be(Bt,O,V),T(O,Vn,V),Be(Nt,O,V),T(O,Xn,V),Be(Lt,O,V),T(O,Qn,V),Be(Dt,O,V),T(O,Kn,V),Be(Ht,O,V),ze=!0,Zn||(Al=[X(s,"click",e[18]),X(c,"click",e[19]),X(R,"click",e[20]),X(_t,"click",e[21]),X(cn,"click",e[29]),X(Ft,"click",e[31])],Zn=!0)},p(O,V){if((!ze||V[0]&32&&r!==(r="btn btn-sm w-min pr-0 pl-0 "+(O[5]?"bg-yellow-300 translate-y-[-2px] rotate-12 duration-200 hover:bg-yellow-600":"bg-cardBackground/60 opacity-40 text-textSecondary hover:bg-cardBackground/80")+" border-none"))&&f(s,"class",r),Sn!==(Sn=Ol(O))&&(vt.d(1),vt=Sn(O),vt&&(vt.c(),vt.m(c,null))),(!ze||V[0]&96&&u!==(u="btn btn-sm px-3 duration-150 border-none transition-all "+(!O[5]&&O[6]===200?"bg-info/80 text-textPrimary hover:bg-info":!O[5]&&O[6]===50?"bg-red-500/80 text-textPrimary hover:bg-red-500 rounded-2xl":"bg-cardBackground/60 text-textSecondary hover:bg-cardBackground/80")))&&f(c,"class",u),(!ze||V[0]&2)&&y!==(y=Math.floor(O[1].tick/1e3)+"")&&F(b,y),(!ze||V[0]&2)&&k!==(k=Math.floor(O[1].tick%1e3/10)+"")&&F(M,k),(!ze||V[0]&2)&&W!==(W=O[1].cash+"")&&F(D,W),(!ze||V[0]&1)&&F(fe,O[0]),(!ze||V[0]&2)&&ee!==(ee=Math.floor(O[1].popularity)+"")&&F(se,ee),(!ze||V[0]&2)&&qe!==(qe=((O[1].stats.popularityChange||0)>0?`+${O[1].stats.popularityChange}`:O[1].stats.popularityChange||0)+"")&&F(Pe,qe),(!ze||V[0]&2&&Ie!==(Ie=Bl("text-xs px-1.5 rounded-md "+$r(O[1].stats.popularityChange||0))+" svelte-1odo5ta"))&&f(we,"class",Ie),(!ze||V[0]&2)&&We!==(We=Math.floor(O[1].totalDemand)+"")&&F(_e,We),V[0]&2){jt=le(Array(Math.floor(O[1].vibe)));let Y;for(Y=0;Y<jt.length;Y+=1){const dt=vr(O,jt,Y);Ue[Y]?Ue[Y].p(dt,V):(Ue[Y]=yr(),Ue[Y].c(),Ue[Y].m(Fe,me))}for(;Y<Ue.length;Y+=1)Ue[Y].d(1);Ue.length=jt.length}if(O[1].vibe%1>=.5?et||(et=xr(),et.c(),et.m(Fe,null)):et&&(et.d(1),et=null),V[0]&64310){Rt=le(O[1].staff);let Y;for(Y=0;Y<Rt.length;Y+=1){const dt=br(O,Rt,Y);Ge[Y]?Ge[Y].p(dt,V):(Ge[Y]=wr(dt),Ge[Y].c(),Ge[Y].m(De,null))}for(;Y<Ge.length;Y+=1)Ge[Y].d(1);Ge.length=Rt.length}if(O[1].managers.length>0?Ve?Ve.p(O,V):(Ve=kr(O),Ve.c(),Ve.m(ve,null)):Ve&&(Ve.d(1),Ve=null),V[0]&131074){Et=le(O[1].ownedEquipment);let Y;for(Y=0;Y<Et.length;Y+=1){const dt=_r(O,Et,Y);ye[Y]?(ye[Y].p(dt,V),J(ye[Y],1)):(ye[Y]=Mr(dt),ye[Y].c(),J(ye[Y],1),ye[Y].m(Mt,null))}for(ut(),Y=Et.length;Y<ye.length;Y+=1)Ao(Y);ft()}if(V[0]&65538){Pt=le(O[1].inventory);let Y;for(Y=0;Y<Pt.length;Y+=1){const dt=mr(O,Pt,Y);xe[Y]?(xe[Y].p(dt,V),J(xe[Y],1)):(xe[Y]=Pr(dt),xe[Y].c(),J(xe[Y],1),xe[Y].m(St,null))}for(ut(),Y=Pt.length;Y<xe.length;Y+=1)Oo(Y);ft()}(!ze||V[0]&32&&Mn!==(Mn="flex flex-row w-full "+(O[5]?"bg-error/40 text-textPrimary border-interactive":"bg-cardBackground/80 text-textPrimary")+" px-6 py-6 h-fit'}"))&&f(t,"class",Mn),O[3]?Xe?Xe.p(O,V):(Xe=Tr(O),Xe.c(),Xe.m(un.parentNode,un)):Xe&&(Xe.d(1),Xe=null)},i(O){if(!ze){for(let V=0;V<Et.length;V+=1)J(ye[V]);for(let V=0;V<Pt.length;V+=1)J(xe[V]);J(Bt.$$.fragment,O),J(Nt.$$.fragment,O),J(Lt.$$.fragment,O),J(Dt.$$.fragment,O),J(Ht.$$.fragment,O),ze=!0}},o(O){ye=ye.filter(Boolean);for(let V=0;V<ye.length;V+=1)ne(ye[V]);xe=xe.filter(Boolean);for(let V=0;V<xe.length;V+=1)ne(xe[V]);ne(Bt.$$.fragment,O),ne(Nt.$$.fragment,O),ne(Lt.$$.fragment,O),ne(Dt.$$.fragment,O),ne(Ht.$$.fragment,O),ze=!1},d(O){O&&(P(t),P(Jn),P(un),P(Vn),P(Xn),P(Qn),P(Kn)),vt.d(),Ee(Ue,O),et&&et.d(),Ee(Ge,O),Ve&&Ve.d(),Ee(ye,O),Ee(xe,O),Xe&&Xe.d(O),Ne(Bt,O),Ne(Nt,O),Ne(Lt,O),Ne(Dt,O),Ne(Ht,O),Zn=!1,Re(Al)}}}function Wn(e,t=!0){return e?e>=1.2?t?"😍":"😍 Happy":e>=1?t?"🙂":"🙂 Fine":e>=.8?t?"🫤":"🫤 Iffy":e>=.5?t?"😡":"😡 Bad":t?"🤬":"🤬 Terrible":t?"🙂":"🙂 Fine"}function on(e){return e>=250?{count:5,color:"bg-textPrimary"}:e>=100?{count:4,color:"bg-textPrimary"}:e>=50?{count:3,color:"bg-textPrimary"}:e>=25?{count:2,color:"bg-textPrimary"}:e>0&&e<15?{count:1,color:"bg-textPrimary"}:{count:0,color:""}}function $r(e){return e>0?"bg-success/20 text-success":e<0?"bg-error/20 text-error":"bg-borderColor/40 text-textSecondary"}function wc(e,t,n){let l,s,o,r,a,c,u;ae(e,ue,H=>n(5,l=H)),ae(e,ct,H=>n(37,H)),ae(e,xn,H=>n(38,H)),ae(e,oe,H=>n(1,s=H)),ae(e,yn,H=>n(6,o=H)),ae(e,at,H=>n(7,r=H)),ae(e,tn,H=>n(8,a=H)),ae(e,ht,H=>n(9,c=H)),ae(e,st,H=>n(10,u=H)),yl(()=>{fa()});let _=null,d=null,h=!1,m=null;function g(H,G){_=G,H.dataTransfer&&(H.dataTransfer.effectAllowed="move")}function y(H,G){H.preventDefault(),n(2,d=G)}function b(H,G){H.preventDefault(),n(2,d=G)}function w(H,G){if(H.preventDefault(),_!==null&&_!==G){const ee=[...s.staff],[se]=ee.splice(_,1);ee.splice(G,0,se),te(oe,s.staff=ee,s)}_=null,n(2,d=null)}function k(){_=null,n(2,d=null)}let M=0;function I(H){const G=sn.find(ee=>ee.name===H);G&&(vo(G.name,G.quantity,G.cost,G.description)||alert("You do not have enough money"))}function N(H){vi(H)||alert("You do not have enough money")}const S=()=>te(ue,l=!l,l),C=()=>{te(ue,l=!1,l),te(yn,o=o===200?50:200,o)},A=()=>n(3,h=!h),E=()=>{te(ue,l=!0,l),te(at,r=!0,r)},$=(H,G)=>g(G,H),B=(H,G)=>y(G,H),W=(H,G)=>b(G,H),D=(H,G)=>w(G,H),j=H=>n(4,m=H),z=()=>n(4,m=null),q=H=>{te(tn,a=H,a),te(ue,l=!0,l),te(ht,c=!0,c)},L=()=>{te(ue,l=!0,l),te(st,u=!0,u)},Z=H=>N(H.name),fe=()=>{te(ue,l=!0,l),te(st,u=!0,u)},de=H=>I(H.name),ie=(H,G)=>G.name===H.name,Q=()=>n(3,h=!1);return e.$$.update=()=>{e.$$.dirty[0]&3&&(n(0,M=tt(s)),M-s.stats.profitYesterday)},[M,s,d,h,m,l,o,r,a,c,u,g,y,b,w,k,I,N,S,C,A,E,$,B,W,D,j,z,q,L,Z,fe,de,ie,Q]}class kc extends ot{constructor(t){super(),rt(this,t,wc,xc,nt,{},null,[-1,-1])}}function Ir(e){let t,n,l,s;return{c(){t=p("div"),n=p("strong"),n.textContent="Parse Error:",l=v(),s=x(e[2]),f(t,"class","bg-error/20 border border-error/40 rounded p-3 mb-4 text-error")},m(o,r){T(o,t,r),i(t,n),i(t,l),i(t,s)},p(o,r){r&4&&F(s,o[2])},d(o){o&&P(t)}}}function Cc(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y,b,w,k,M,I,N,S,C,A=e[2]&&Ir(e);return{c(){t=p("dialog"),n=p("div"),l=p("div"),l.innerHTML='<h3 class="text-2xl font-bold text-warning flex items-center gap-2">🛠️ Developer Console</h3> <div class="text-right"><div class="text-sm text-textSecondary">Game Status</div> <div class="text-xl font-bold text-error">⏸️ PAUSED</div></div>',s=v(),A&&A.c(),o=v(),r=p("div"),a=p("label"),a.textContent="Database JSON (edit carefully):",c=v(),u=p("textarea"),_=v(),d=p("div"),h=p("button"),h.textContent="🗑️ Clear Local Storage",m=v(),g=p("button"),g.textContent="🗑️ Reset Game",y=v(),b=p("button"),w=x("💾 Save Changes"),M=v(),I=p("button"),I.textContent="❌ Close",f(l,"class","flex items-center justify-between mb-4 flex-shrink-0"),f(a,"class","text-sm font-semibold text-lightAccent mb-2"),f(a,"for","json-editor"),f(u,"id","json-editor"),f(u,"class","flex-1 w-full p-4 bg-cardBackground/60 border border-borderColor/50 rounded-lg font-mono text-sm text-textPrimary resize-none focus:border-interactive/70 focus:outline-none"),f(u,"placeholder","Loading..."),f(r,"class","flex-1 overflow-hidden flex flex-col"),f(h,"class","btn bg-error/80 hover:bg-error text-textPrimary border-error/50"),f(g,"class","btn bg-error/80 hover:bg-error text-textPrimary border-error/50"),f(b,"class","btn bg-success/80 hover:bg-success text-textPrimary border-success/50"),b.disabled=k=e[2]!=="",f(I,"class","btn bg-interactive/80 hover:bg-interactive text-textPrimary border-interactive/50"),f(d,"class","modal-action pt-4 border-t border-warning/50 flex-shrink-0 gap-2"),f(n,"class","modal-box bg-modalBackground/95 backdrop-blur-md text-textPrimary min-w-[80vw] max-w-[80vw] h-[85vh] flex flex-col border-2 border-warning/60 shadow-2xl"),f(t,"id","developer_modal"),f(t,"class",N="modal "+(e[0]?"modal-open":""))},m(E,$){T(E,t,$),i(t,n),i(n,l),i(n,s),A&&A.m(n,null),i(n,o),i(n,r),i(r,a),i(r,c),i(r,u),ln(u,e[1]),i(n,_),i(n,d),i(d,h),i(d,m),i(d,g),i(d,y),i(d,b),i(b,w),i(d,M),i(d,I),S||(C=[X(u,"input",e[8]),X(h,"click",e[9]),X(g,"click",e[4]),X(b,"click",e[3]),X(I,"click",e[5])],S=!0)},p(E,[$]){E[2]?A?A.p(E,$):(A=Ir(E),A.c(),A.m(n,o)):A&&(A.d(1),A=null),$&2&&ln(u,E[1]),$&4&&k!==(k=E[2]!=="")&&(b.disabled=k),$&1&&N!==(N="modal "+(E[0]?"modal-open":""))&&f(t,"class",N)},i:re,o:re,d(E){E&&P(t),A&&A.d(),S=!1,Re(C)}}}function Mc(e,t,n){let l,s;ae(e,gt,m=>n(0,l=m)),ae(e,oe,m=>n(7,s=m));let o="",r="",a=!1;function c(){try{const m=JSON.parse(o);oe.set(m),n(2,r=""),alert("Database updated successfully!")}catch(m){n(2,r=`Invalid JSON: ${m instanceof Error?m.message:"Unknown error"}`)}}function u(){if(confirm("Are you sure you want to reset the game? This will clear all progress.")){let m={...$t};m=bo(m),oe.set(m),ue.set(!1),gt.set(!1),alert("Game reset successfully!")}}function _(){gt.set(!1)}function d(){o=this.value,n(1,o),n(0,l),n(6,a),n(7,s)}const h=()=>{localStorage.clear(),location.reload()};return e.$$.update=()=>{e.$$.dirty&193&&l&&!a&&(ue.set(!0),n(1,o=JSON.stringify(s,null,2)),n(2,r=""),n(6,a=!0)),e.$$.dirty&1&&(l||n(6,a=!1))},[l,o,r,c,u,_,a,s,d,h]}class Sc extends ot{constructor(t){super(),rt(this,t,Mc,Cc,nt,{})}}function qr(e){let t,n,l,s,o,r,a=e[0]&&!e[4]&&Ar(e),c=e[10].step<=9&&!e[4]&&Or(e),u=e[4]&&Br(e),_=e[10].step===10&&Nr(e);return{c(){t=p("div"),n=p("div"),l=v(),a&&a.c(),s=v(),c&&c.c(),o=v(),u&&u.c(),r=v(),_&&_.c(),f(n,"class","absolute inset-0 bg-black/40"),f(t,"class","fixed inset-0 z-[1000] pointer-events-none")},m(d,h){T(d,t,h),i(t,n),i(t,l),a&&a.m(t,null),i(t,s),c&&c.m(t,null),i(t,o),u&&u.m(t,null),i(t,r),_&&_.m(t,null)},p(d,h){d[0]&&!d[4]?a?a.p(d,h):(a=Ar(d),a.c(),a.m(t,s)):a&&(a.d(1),a=null),d[10].step<=9&&!d[4]?c?c.p(d,h):(c=Or(d),c.c(),c.m(t,o)):c&&(c.d(1),c=null),d[4]?u?u.p(d,h):(u=Br(d),u.c(),u.m(t,r)):u&&(u.d(1),u=null),d[10].step===10?_||(_=Nr(d),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},d(d){d&&P(t),a&&a.d(),c&&c.d(),u&&u.d(),_&&_.d()}}}function Ar(e){let t;return{c(){t=p("div"),f(t,"class","absolute border-2 border-accent rounded-lg shadow-[0_0_0_9999px_rgba(0,0,0,0.4)] pointer-events-none"),Ke(t,"left",e[6]+"px"),Ke(t,"top",e[7]+"px"),Ke(t,"width",e[8]+"px"),Ke(t,"height",e[9]+"px")},m(n,l){T(n,t,l)},p(n,l){l&64&&Ke(t,"left",n[6]+"px"),l&128&&Ke(t,"top",n[7]+"px"),l&256&&Ke(t,"width",n[8]+"px"),l&512&&Ke(t,"height",n[9]+"px")},d(n){n&&P(t)}}}function Or(e){var u,_;let t,n,l,s=((u=dn.find(e[15]))==null?void 0:u.message)+"",o,r,a=(_=dn.find(e[14]))==null?void 0:_.manual,c=a&&Fr(e);return{c(){t=p("div"),n=p("div"),l=p("div"),o=x(s),r=v(),c&&c.c(),f(l,"class","whitespace-pre-line"),f(n,"class","text-sm space-y-2"),f(t,"class","absolute max-w-xs bg-cardBackground/95 text-textPrimary border border-info/60 rounded-lg p-3 shadow-2xl pointer-events-auto"),Ke(t,"left",e[1]+"px"),Ke(t,"top",e[2]+"px")},m(d,h){T(d,t,h),i(t,n),i(n,l),i(l,o),i(n,r),c&&c.m(n,null),e[17](t)},p(d,h){var m,g;h&1024&&s!==(s=((m=dn.find(d[15]))==null?void 0:m.message)+"")&&F(o,s),h&1024&&(a=(g=dn.find(d[14]))==null?void 0:g.manual),a?c?c.p(d,h):(c=Fr(d),c.c(),c.m(n,null)):c&&(c.d(1),c=null),h&2&&Ke(t,"left",d[1]+"px"),h&4&&Ke(t,"top",d[2]+"px")},d(d){d&&P(t),c&&c.d(),e[17](null)}}}function Fr(e){let t,n,l,s;return{c(){t=p("div"),n=p("button"),n.textContent="Next",f(n,"class","btn btn-xs bg-info/80 text-textPrimary hover:bg-info border-info/50"),f(t,"class","text-right")},m(o,r){T(o,t,r),i(t,n),l||(s=X(n,"click",e[16]),l=!0)},p:re,d(o){o&&P(t),l=!1,s()}}}function Br(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y;return{c(){t=p("div"),n=p("div"),l=p("div"),l.textContent=`${ui}`,s=v(),o=p("p"),o.textContent=`${fi}`,r=v(),a=p("div"),c=p("div"),u=p("input"),_=v(),d=p("button"),h=x("Start"),f(l,"class","text-2xl font-semibold mb-2"),f(o,"class","text-sm text-textSecondary mb-4"),f(u,"id","player-name"),f(u,"type","text"),u.autofocus=!0,f(u,"placeholder","Your name"),f(u,"class","w-full px-3 py-2 bg-mainBackground border border-info/60 rounded-md text-textPrimary placeholder-textSecondary focus:outline-none focus:ring-2 focus:ring-info/60 focus:border-transparent"),f(c,"class",""),f(d,"class",m="btn "+(e[5].trim()?"btn hover:bg-interactive border-interactive/50 bg-interactive/80 text-white":"opacity-25 cursor-not-allowed ")+" text-gray-800 disabled:cursor-not-allowed"),f(a,"class","flex-row flex gap-4 items-center justify-center"),f(n,"class","bg-cardBackground/95 text-textPrimary border border-info/60 rounded-lg p-6 shadow-2xl text-center max-w-md"),f(t,"class","absolute inset-0 flex items-center justify-center pointer-events-auto")},m(b,w){T(b,t,w),i(t,n),i(n,l),i(n,s),i(n,o),i(n,r),i(n,a),i(a,c),i(c,u),ln(u,e[5]),i(a,_),i(a,d),i(d,h),u.focus(),g||(y=[X(u,"input",e[18]),X(u,"keydown",e[19]),X(d,"click",e[12])],g=!0)},p(b,w){w&32&&u.value!==b[5]&&ln(u,b[5]),w&32&&m!==(m="btn "+(b[5].trim()?"btn hover:bg-interactive border-interactive/50 bg-interactive/80 text-white":"opacity-25 cursor-not-allowed ")+" text-gray-800 disabled:cursor-not-allowed")&&f(d,"class",m)},d(b){b&&P(t),g=!1,Re(y)}}}function Nr(e){let t,n,l,s,o,r,a;return{c(){t=p("div"),n=p("div"),l=p("div"),l.textContent=`${di}`,s=v(),o=p("button"),o.textContent="Finish",f(l,"class","text-2xl mb-3"),f(o,"class","btn bg-success/80 text-textPrimary hover:bg-success border-success/50"),f(n,"class","bg-cardBackground/95 text-textPrimary border border-info/60 rounded-lg p-6 shadow-2xl text-center"),f(t,"class","absolute inset-0 flex items-center justify-center pointer-events-auto")},m(c,u){T(c,t,u),i(t,n),i(n,l),i(n,s),i(n,o),r||(a=X(o,"click",e[20]),r=!0)},d(c){c&&P(t),r=!1,a()}}}function Ec(e){let t,n=e[10].active&&qr(e);return{c(){n&&n.c(),t=bt()},m(l,s){n&&n.m(l,s),T(l,t,s)},p(l,[s]){l[10].active?n?n.p(l,s):(n=qr(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:re,o:re,d(l){l&&P(t),n&&n.d(l)}}}function Pc(e,t,n){let l;ae(e,Qe,j=>n(10,l=j));let s=null,o=0,r=0,a=null,c="",u=null,_=!1,d=!1,h="",m=0,g=0,y=0,b=0;function w(j){const z=dn.find(q=>q.id===j);return(z==null?void 0:z.targetId)||""}function k(){const j=c?document.querySelector(`[data-nux-id="${c}"]`):null;if(n(0,s=j?j.getBoundingClientRect():null),s){const q=window.scrollX,L=window.scrollY,Z=window.innerWidth,fe=window.innerHeight,de=16,ie=s.left+q-de,Q=s.top+L-de,H=s.width+de*2,G=s.height+de*2;n(6,m=Math.max(ie,q+2)),n(7,g=Math.max(Q,L+2)),n(8,y=Math.min(H-(m-ie),q+Z-m-2)),n(9,b=Math.min(G-(g-Q),L+fe-g-2));const ee=(a==null?void 0:a.offsetWidth)||280,se=(a==null?void 0:a.offsetHeight)||140,pe=()=>({x:s.right+q+24,y:Math.min(Math.max(s.top+L,L+24),L+fe-24-se),fits:s.right+ee+24<=q+Z-24}),Je=()=>({x:s.left+q-24-ee,y:Math.min(Math.max(s.top+L,L+24),L+fe-24-se),fits:s.left-ee-24>=q+24}),we=()=>({x:Math.min(Math.max(s.left+q+(s.width-ee)/2,q+24),q+Z-24-ee),y:s.bottom+L+24,fits:s.bottom+se+24<=L+fe-24}),qe=()=>({x:Math.min(Math.max(s.left+q+(s.width-ee)/2,q+24),q+Z-24-ee),y:s.top+L-24-se,fits:s.top-se-24>=L+24}),Pe=c==="orders-header"?[qe,pe,Je,we]:[pe,Je,we,qe];let Ie=!1;for(const Oe of Pe){const Te=Oe();if(Te.fits){n(1,o=Te.x),n(2,r=Te.y),Ie=!0;break}}Ie||(n(1,o=Math.min(Math.max(s.left+q+s.width+24,q+24),q+Z-24-ee)),n(2,r=Math.min(Math.max(s.top+L,L+24),L+fe-24-se)))}}function M(){Qe.update(j=>({...j,step:j.step+1}))}function I(){h.trim()&&(wn.set(h.trim()),n(4,_=!1),M())}function N(j=!0){try{gt.set(!1),It.set(!1),rn.set(!1),mt.set(!1),at.set(!1),st.set(!1),ht.set(!1),ct.set(!1),j&&ue.set(!1)}catch{}}let S=[];yl(()=>{const j=Qe.subscribe(Q=>{c=w(Q.step),Q.active&&Q.step===0&&!d&&(n(4,_=!0),d=!0),Q.active&&Q.step===4&&u===null&&(u=Se(oe).inventory.reduce((G,ee)=>G+((ee==null?void 0:ee.quantity)||0),0)),Q.active&&Q.step===5&&ue.set(!1),k(),setTimeout(k,0)}),z=oe.subscribe(Q=>{const H=Se(Qe);if(H.active){if(H.step===2&&Array.isArray(Q.menu)&&Q.menu.length>0&&(M(),N(!0)),H.step===4){const G=Q.inventory.reduce((ee,se)=>ee+((se==null?void 0:se.quantity)||0),0);u!==null&&G>u&&(M(),N(!1),u=null)}H.step===5&&Q.orders.filter(G=>G.completion>=100).length>3&&(M(),N(!0))}}),q=st.subscribe(Q=>{const H=Se(Qe);H.active&&H.step===3&&Q&&M()}),L=mt.subscribe(Q=>{const H=Se(Qe);H.active&&H.step===1&&Q&&M()}),Z=at.subscribe(Q=>{const H=Se(Qe);H.active&&H.step===7&&Q&&M()}),fe=Qe.subscribe(Q=>{Q.active&&Q.step===9&&(ue.set(!0),nn.set("cafe"),setTimeout(()=>{k()},0))}),de=!!localStorage.getItem("the-grind-ui"),ie=Se(Qe);de&&ie.active&&!_&&(ie.step===1&&(ue.set(!0),mt.set(!0)),(ie.step===3||ie.step===4)&&(ue.set(!0),st.set(!0)),(ie.step===7||ie.step===8)&&(ue.set(!0),at.set(!0))),S=[j,z,q,L,Z,fe],window.addEventListener("resize",k),window.addEventListener("scroll",k,{passive:!0}),k()}),Jo(()=>{S.forEach(j=>j()),window.removeEventListener("resize",k),window.removeEventListener("scroll",k)});const C=j=>j.id===l.step,A=j=>j.id===l.step,E=()=>{l.step===8&&N(!0),l.step===9&&(nn.set("orders"),ue.set(!1)),M()};function $(j){ml[j?"unshift":"push"](()=>{a=j,n(3,a)})}function B(){h=this.value,n(5,h)}return[s,o,r,a,_,h,m,g,y,b,l,M,I,N,C,A,E,$,B,j=>{j.key==="Enter"&&h.trim()&&I()},()=>Qe.set({active:!1,step:11,completed:!0})]}class Tc extends ot{constructor(t){super(),rt(this,t,Pc,Ec,nt,{})}}function Lr(e,t,n){const l=e.slice();return l[15]=t[n],l}function $c(e){const t=e.slice(),n=t[3].quests.filter(o=>!o.completed);t[12]=n;const l=t[3].quests.filter(o=>o.completed);t[13]=l;const s=[...t[12],...t[13]];return t[14]=s,t}function Ic(e){const t=e.slice(),n=t[3].quests.find(l=>l.showingCompletion);return t[11]=n,t}function Dr(e,t,n){const l=e.slice();return l[18]=t[n],l}function Hr(e){let t,n,l=e[18].name+"",s,o,r,a,c;function u(){return e[7](e[18])}return r=new El({props:{variant:"success",normalContent:`$${e[18].price.toFixed(2)}`,hoverContent:"Adjust price",tooltip:pn(je.FINANCIAL,e[3])?void 0:"You need a financial manager to adjust prices",disabled:!pn(je.FINANCIAL,e[3]),onClick:u}}),{c(){t=p("div"),n=p("span"),s=x(l),o=v(),He(r.$$.fragment),a=v(),f(t,"class","flex flex-row items-center text-white justify-between gap-1 w-full")},m(_,d){T(_,t,d),i(t,n),i(n,s),i(t,o),Be(r,t,null),i(t,a),c=!0},p(_,d){e=_,(!c||d&8)&&l!==(l=e[18].name+"")&&F(s,l);const h={};d&8&&(h.normalContent=`$${e[18].price.toFixed(2)}`),d&8&&(h.tooltip=pn(je.FINANCIAL,e[3])?void 0:"You need a financial manager to adjust prices"),d&8&&(h.disabled=!pn(je.FINANCIAL,e[3])),d&8&&(h.onClick=u),r.$set(h)},i(_){c||(J(r.$$.fragment,_),c=!0)},o(_){ne(r.$$.fragment,_),c=!1},d(_){_&&P(t),Ne(r)}}}function jr(e){let t,n,l;return{c(){t=p("div")},m(s,o){T(s,t,o),n||(l=Do(Di.call(null,t,{particleCount:200,force:.3})),n=!0)},d(s){s&&P(t),n=!1,l()}}}function Rr(e){let t,n;function l(a,c){return c&8&&(n=null),n==null&&(n=!!a[3].quests.find(Nc)),n?Yr:qc}function s(a,c){return c===Yr?Ic(a):$c(a)}let o=l(e,-1),r=o(s(e,o));return{c(){t=p("div"),r.c(),f(t,"class","p-1 pt-4 border-t-2 border-info/10")},m(a,c){T(a,t,c),r.m(t,null)},p(a,c){o===(o=l(a,c))&&r?r.p(s(a,o),c):(r.d(1),r=o(s(a,o)),r&&(r.c(),r.m(t,null)))},d(a){a&&P(t),r.d()}}}function qc(e){let t,n,l,s=e[14].length>0&&Wr(e);return{c(){t=p("div"),t.innerHTML='<h3 class="text-sm font-semibold text-accent">Quests</h3> <p class="text-xs text-textSecondary/80">Hover to see reward</p>',n=v(),s&&s.c(),l=bt(),f(t,"class","flex-row flex justify-between items-center")},m(o,r){T(o,t,r),T(o,n,r),s&&s.m(o,r),T(o,l,r)},p(o,r){o[14].length>0?s?s.p(o,r):(s=Wr(o),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(o){o&&(P(t),P(n),P(l)),s&&s.d(o)}}}function Yr(e){let t,n=e[11]&&Jr(e);return{c(){n&&n.c(),t=bt()},m(l,s){n&&n.m(l,s),T(l,t,s)},p(l,s){l[11]?n?n.p(l,s):(n=Jr(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&P(t),n&&n.d(l)}}}function Wr(e){let t,n=le(e[14]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Gr(Lr(e,n,s));return{c(){t=p("div");for(let s=0;s<l.length;s+=1)l[s].c();f(t,"class","text-sm text-textPrimary flex flex-col gap-1 mt-2")},m(s,o){T(s,t,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null)},p(s,o){if(o&8){n=le(s[14]);let r;for(r=0;r<n.length;r+=1){const a=Lr(s,n,r);l[r]?l[r].p(a,o):(l[r]=Gr(a),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&P(t),Ee(l,s)}}}function zr(e){let t;return{c(){t=p("span"),t.textContent="✓",f(t,"class","text-xs text-success")},m(n,l){T(n,t,l)},d(n){n&&P(t)}}}function Ur(e){let t,n=e[15].description+"",l,s;return{c(){t=p("span"),l=x(n),f(t,"class",s="text-xs text-textSecondary/80 leading-tight "+(e[15].completed?"line-through":""))},m(o,r){T(o,t,r),i(t,l)},p(o,r){r&8&&n!==(n=o[15].description+"")&&F(l,n),r&8&&s!==(s="text-xs text-textSecondary/80 leading-tight "+(o[15].completed?"line-through":""))&&f(t,"class",s)},d(o){o&&P(t)}}}function Gr(e){let t,n,l,s,o,r,a=e[15].name+"",c,u,_,d,h,m=e[15].completed&&zr(),g=e[15].description&&Ur(e);return{c(){t=p("div"),n=p("div"),m&&m.c(),s=v(),o=p("div"),r=p("span"),c=x(a),_=v(),g&&g.c(),d=v(),f(n,"class",l="w-4 h-4 border border-white "+(e[15].completed?"opacity-20":"")+" rounded-sm bg-cardBackground/40 flex items-center justify-center flex-shrink-0 ml-1 mt-0.5"),f(r,"class",u="text-xs font-medium text-start "+(e[15].completed?"line-through text-success/80 opacity-50":"text-white")),f(o,"class","flex flex-col"),f(t,"class","flex flex-row items-start gap-2 tooltip tooltip-top"),f(t,"data-tip",h=`${e[15].reward.cash>0?`$${e[15].reward.cash}`:""}${e[15].reward.cash>0&&e[15].reward.popularity>0?" + ":""}${e[15].reward.popularity>0?`${e[15].reward.popularity} popularity`:""}`)},m(y,b){T(y,t,b),i(t,n),m&&m.m(n,null),i(t,s),i(t,o),i(o,r),i(r,c),i(o,_),g&&g.m(o,null),i(t,d)},p(y,b){y[15].completed?m||(m=zr(),m.c(),m.m(n,null)):m&&(m.d(1),m=null),b&8&&l!==(l="w-4 h-4 border border-white "+(y[15].completed?"opacity-20":"")+" rounded-sm bg-cardBackground/40 flex items-center justify-center flex-shrink-0 ml-1 mt-0.5")&&f(n,"class",l),b&8&&a!==(a=y[15].name+"")&&F(c,a),b&8&&u!==(u="text-xs font-medium text-start "+(y[15].completed?"line-through text-success/80 opacity-50":"text-white"))&&f(r,"class",u),y[15].description?g?g.p(y,b):(g=Ur(y),g.c(),g.m(o,null)):g&&(g.d(1),g=null),b&8&&h!==(h=`${y[15].reward.cash>0?`$${y[15].reward.cash}`:""}${y[15].reward.cash>0&&y[15].reward.popularity>0?" + ":""}${y[15].reward.popularity>0?`${y[15].reward.popularity} popularity`:""}`)&&f(t,"data-tip",h)},d(y){y&&P(t),m&&m.d(),g&&g.d()}}}function Jr(e){let t,n,l,s,o=e[11].name+"",r,a,c,u=e[11].description&&Vr(e);function _(m,g){return m[11].reward.popularity>0&&m[11].reward.cash>0?Fc:m[11].reward.popularity>0?Oc:Ac}let d=_(e),h=d(e);return{c(){t=p("h3"),t.textContent="Quest Completed!",n=v(),l=p("div"),s=p("span"),r=x(o),a=v(),u&&u.c(),c=v(),h.c(),f(t,"class","text-lg font-bold text-success"),f(s,"class","font-semibold text-success"),f(l,"class","text-sm text-textPrimary flex flex-col")},m(m,g){T(m,t,g),T(m,n,g),T(m,l,g),i(l,s),i(s,r),i(l,a),u&&u.m(l,null),i(l,c),h.m(l,null)},p(m,g){g&8&&o!==(o=m[11].name+"")&&F(r,o),m[11].description?u?u.p(m,g):(u=Vr(m),u.c(),u.m(l,c)):u&&(u.d(1),u=null),d===(d=_(m))&&h?h.p(m,g):(h.d(1),h=d(m),h&&(h.c(),h.m(l,null)))},d(m){m&&(P(t),P(n),P(l)),u&&u.d(),h.d()}}}function Vr(e){let t,n=e[11].description+"",l;return{c(){t=p("span"),l=x(n),f(t,"class","text-xs text-lightAccent")},m(s,o){T(s,t,o),i(t,l)},p(s,o){o&8&&n!==(n=s[11].description+"")&&F(l,n)},d(s){s&&P(t)}}}function Ac(e){let t,n,l=e[11].reward.cash+"",s;return{c(){t=p("span"),n=x("Reward: $"),s=x(l),f(t,"class","text-xs text-accent mt-1")},m(o,r){T(o,t,r),i(t,n),i(t,s)},p(o,r){r&8&&l!==(l=o[11].reward.cash+"")&&F(s,l)},d(o){o&&P(t)}}}function Oc(e){let t,n,l=e[11].reward.popularity+"",s,o;return{c(){t=p("span"),n=x("Reward: "),s=x(l),o=x(" popularity"),f(t,"class","text-xs text-accent mt-1")},m(r,a){T(r,t,a),i(t,n),i(t,s),i(t,o)},p(r,a){a&8&&l!==(l=r[11].reward.popularity+"")&&F(s,l)},d(r){r&&P(t)}}}function Fc(e){let t,n,l=e[11].reward.cash+"",s,o,r=e[11].reward.popularity+"",a,c;return{c(){t=p("span"),n=x("Reward: $"),s=x(l),o=x(" + "),a=x(r),c=x(" popularity"),f(t,"class","text-xs text-accent mt-1")},m(u,_){T(u,t,_),i(t,n),i(t,s),i(t,o),i(t,a),i(t,c)},p(u,_){_&8&&l!==(l=u[11].reward.cash+"")&&F(s,l),_&8&&r!==(r=u[11].reward.popularity+"")&&F(a,r)},d(u){u&&P(t)}}}function Bc(e){let t,n,l,s,o,r,a,c,u,_,d,h,m,g,y,b,w,k,M,I,N,S,C,A=`$${tt(e[3])}`,E,$,B,W=(tt(e[3])-e[3].stats.profitYesterday>0?`+${tt(e[3])-e[3].stats.profitYesterday}`:tt(e[3])-e[3].stats.profitYesterday)+"",D,j,z,q,L,Z,fe=`${e[3].stats.ordersToday}`,de,ie,Q,H=(e[3].stats.ordersToday-e[3].stats.ordersYesterday>0?`+${e[3].stats.ordersToday-e[3].stats.ordersYesterday}`:e[3].stats.ordersToday-e[3].stats.ordersYesterday)+"",G,ee,se,pe,Je,we=e[3].stats.totalOrders+"",qe,Pe,Ie,Oe=e[3].quests.find(Xr)||e[3].quests.length>0,Te,ke,Ye,Ce,We,_e,Le,he;l=new kc({}),r=new ra({});let Me=le(e[3].menu),ce=[];for(let R=0;R<Me.length;R+=1)ce[R]=Hr(Dr(e,Me,R));const Fe=R=>ne(ce[R],1,1,()=>{ce[R]=null});let me=e[4]&&jr(),be=Oe&&Rr(e);return ke=new Tc({}),Ce=new Sc({}),{c(){t=p("div"),n=p("div"),He(l.$$.fragment),s=v(),o=p("div"),He(r.$$.fragment),a=v(),c=p("div"),u=p("div"),_=p("div"),d=p("div"),h=p("span"),h.textContent="Menu",m=v(),g=p("button"),g.textContent="Manage Menu",y=v(),b=p("div");for(let R=0;R<ce.length;R+=1)ce[R].c();w=v(),k=p("div"),M=p("h3"),M.textContent="Today vs Yesterday",I=v(),N=p("div"),S=p("span"),C=x("Profit: "),E=x(A),$=v(),B=p("span"),D=x(W),z=v(),q=p("div"),L=p("span"),Z=x("Orders: "),de=x(fe),ie=v(),Q=p("span"),G=x(H),se=v(),pe=p("div"),Je=x("Lifetime: "),qe=x(we),Pe=v(),me&&me.c(),Ie=v(),be&&be.c(),Te=v(),He(ke.$$.fragment),Ye=v(),He(Ce.$$.fragment),We=v(),f(o,"class","flex-1 min-h-0"),f(n,"class","flex-1 flex flex-col min-h-0"),f(h,"class","font-semibold text-accent"),f(g,"class","btn btn-xs bg-info/80 text-textPrimary hover:bg-info border-info/50"),f(g,"data-nux-id","open-menu"),f(d,"class","flex flex-row gap-2 mb-3"),f(b,"class","flex flex-col gap-1"),f(_,"class","flex flex-col"),f(M,"class","text-sm font-semibold text-accent"),f(S,"class","text-sm text-textPrimary"),f(B,"class",j="text-xs px-1.5 rounded-md "+(tt(e[3])-e[3].stats.profitYesterday>0?"bg-success/20 text-success":tt(e[3])-e[3].stats.profitYesterday<0?"bg-error/20 text-error":"bg-borderColor/40 text-textSecondary")),f(N,"class","mt-2 flex flex-row items-center justify-between gap-2"),f(L,"class","text-sm text-textPrimary"),f(Q,"class",ee="text-xs px-1.5 rounded-md "+(e[3].stats.ordersToday-e[3].stats.ordersYesterday>0?"bg-success/20 text-success":e[3].stats.ordersToday-e[3].stats.ordersYesterday<0?"bg-error/20 text-error":"bg-borderColor/40 text-textSecondary")),f(q,"class","mt-1 flex flex-row items-center justify-between gap-2"),f(pe,"class","mt-1 text-xs text-textSecondary/80"),f(k,"class","p-1 pt-4 border-t-2 border-info/10"),f(u,"class","flex-1 overflow-y-auto p-2 pt-6 flex flex-col gap-4"),f(c,"class","w-64 bg-cardBackground/90 border-l border-info/30 flex flex-col"),f(t,"class","flex flex-row min-h-screen bg-mainBackground h-screen overflow-hidden")},m(R,U){T(R,t,U),i(t,n),Be(l,n,null),i(n,s),i(n,o),Be(r,o,null),i(t,a),i(t,c),i(c,u),i(u,_),i(_,d),i(d,h),i(d,m),i(d,g),i(_,y),i(_,b);for(let K=0;K<ce.length;K+=1)ce[K]&&ce[K].m(b,null);i(u,w),i(u,k),i(k,M),i(k,I),i(k,N),i(N,S),i(S,C),i(S,E),i(N,$),i(N,B),i(B,D),i(k,z),i(k,q),i(q,L),i(L,Z),i(L,de),i(q,ie),i(q,Q),i(Q,G),i(k,se),i(k,pe),i(pe,Je),i(pe,qe),i(u,Pe),me&&me.m(u,null),i(u,Ie),be&&be.m(u,null),i(t,Te),Be(ke,t,null),i(t,Ye),Be(Ce,t,null),i(t,We),_e=!0,Le||(he=X(g,"click",e[6]),Le=!0)},p(R,[U]){if(U&40){Me=le(R[3].menu);let K;for(K=0;K<Me.length;K+=1){const ve=Dr(R,Me,K);ce[K]?(ce[K].p(ve,U),J(ce[K],1)):(ce[K]=Hr(ve),ce[K].c(),J(ce[K],1),ce[K].m(b,null))}for(ut(),K=Me.length;K<ce.length;K+=1)Fe(K);ft()}(!_e||U&8)&&A!==(A=`$${tt(R[3])}`)&&F(E,A),(!_e||U&8)&&W!==(W=(tt(R[3])-R[3].stats.profitYesterday>0?`+${tt(R[3])-R[3].stats.profitYesterday}`:tt(R[3])-R[3].stats.profitYesterday)+"")&&F(D,W),(!_e||U&8&&j!==(j="text-xs px-1.5 rounded-md "+(tt(R[3])-R[3].stats.profitYesterday>0?"bg-success/20 text-success":tt(R[3])-R[3].stats.profitYesterday<0?"bg-error/20 text-error":"bg-borderColor/40 text-textSecondary")))&&f(B,"class",j),(!_e||U&8)&&fe!==(fe=`${R[3].stats.ordersToday}`)&&F(de,fe),(!_e||U&8)&&H!==(H=(R[3].stats.ordersToday-R[3].stats.ordersYesterday>0?`+${R[3].stats.ordersToday-R[3].stats.ordersYesterday}`:R[3].stats.ordersToday-R[3].stats.ordersYesterday)+"")&&F(G,H),(!_e||U&8&&ee!==(ee="text-xs px-1.5 rounded-md "+(R[3].stats.ordersToday-R[3].stats.ordersYesterday>0?"bg-success/20 text-success":R[3].stats.ordersToday-R[3].stats.ordersYesterday<0?"bg-error/20 text-error":"bg-borderColor/40 text-textSecondary")))&&f(Q,"class",ee),(!_e||U&8)&&we!==(we=R[3].stats.totalOrders+"")&&F(qe,we),R[4]?me||(me=jr(),me.c(),me.m(u,Ie)):me&&(me.d(1),me=null),U&8&&(Oe=R[3].quests.find(Xr)||R[3].quests.length>0),Oe?be?be.p(R,U):(be=Rr(R),be.c(),be.m(u,null)):be&&(be.d(1),be=null)},i(R){if(!_e){J(l.$$.fragment,R),J(r.$$.fragment,R);for(let U=0;U<Me.length;U+=1)J(ce[U]);J(ke.$$.fragment,R),J(Ce.$$.fragment,R),_e=!0}},o(R){ne(l.$$.fragment,R),ne(r.$$.fragment,R),ce=ce.filter(Boolean);for(let U=0;U<ce.length;U+=1)ne(ce[U]);ne(ke.$$.fragment,R),ne(Ce.$$.fragment,R),_e=!1},d(R){R&&P(t),Ne(l),Ne(r),Ee(ce,R),me&&me.d(),be&&be.d(),Ne(ke),Ne(Ce),Le=!1,he()}}}const Xr=e=>e.showingCompletion,Nc=e=>e.showingCompletion;function Lc(e,t,n){let l,s,o,r,a;ae(e,ue,g=>n(8,l=g)),ae(e,oe,g=>n(3,s=g)),ae(e,ct,g=>n(9,o=g)),ae(e,xn,g=>n(10,r=g)),ae(e,rn,g=>n(4,a=g));function c(g){te(xn,r=g,r),te(ct,o=!0,o),te(ue,l=!0,l)}let u=0,_=0,d=!1;return yl(()=>{So(),Ml();const g=()=>$o();document.addEventListener("pointerdown",g,{once:!0});const y=()=>{d&&To()};document.addEventListener("pointerdown",y);const b=k=>{if(n(0,u=k.clientX),n(1,_=k.clientY),k.movementX!==0||k.movementY!==0){const M=k.target,N=window.getComputedStyle(M).cursor==="pointer"||M.tagName==="BUTTON"||M.tagName==="A"||M.closest("button")!==null||M.closest("a")!==null;N!==d&&n(2,d=N)}};document.addEventListener("mousemove",b);const w=k=>{if(k.key==="\\")k.preventDefault(),gt.set(!0);else if(k.key==="p"||k.key==="P"){if(s.tick>0)return;k.preventDefault(),ue.set(!l)}else k.key==="Escape"&&(k.preventDefault(),gt.set(!1),It.set(!1),rn.set(!1),mt.set(!1),at.set(!1),st.set(!1),ht.set(!1),ct.set(!1),ue.set(!1))};return window.addEventListener("keydown",w),()=>{document.removeEventListener("pointerdown",y),document.removeEventListener("mousemove",b),window.removeEventListener("keydown",w),document.body.classList.remove("custom-cursor-active")}}),[u,_,d,s,a,c,()=>{mt.set(!0),ue.set(!0)},g=>c(g)]}class Dc extends ot{constructor(t){super(),rt(this,t,Lc,Bc,nt,{})}}new Dc({target:document.getElementById("app")});
